remove.packages("downlit")
remove.packages("dplyr")
remove.packages("DT")
remove.packages("dtplyr")
remove.packages("dygraphs")
remove.packages("ellipsis")
remove.packages("evaluate")
remove.packages("fansi")
remove.packages("farver")
remove.packages("fastmap")
remove.packages("fastmatch")
remove.packages("fivethirtyeight")
remove.packages("fontawesome")
remove.packages("forcats")
remove.packages("foreign")
remove.packages("formula.tools")
remove.packages("fs")
remove.packages("gapminder")
remove.packages("gargle")
remove.packages("generics")
remove.packages("gert")
remove.packages("ggforce")
remove.packages("ggplot2")
remove.packages("ggplot2movies")
remove.packages("ggraph")
remove.packages("ggrepel")
remove.packages("gh")
remove.packages("gitcreds")
remove.packages("glue")
remove.packages("gmp")
remove.packages("googledrive")
remove.packages("googlesheets4")
remove.packages("graphlayouts")
remove.packages("gridExtra")
remove.packages("gtable")
remove.packages("haven")
remove.packages("here")
remove.packages("highr")
remove.packages("hms")
remove.packages("htmltools")
remove.packages("htmlwidgets")
remove.packages("httpuv")
remove.packages("httr")
remove.packages("httr2")
remove.packages("ids")
remove.packages("igraph")
remove.packages("infer")
remove.packages("ini")
remove.packages("insight")
remove.packages("irr")
remove.packages("ISLR")
remove.packages("ISLR2")
remove.packages("isoband")
remove.packages("ISOcodes")
remove.packages("janeaustenr")
remove.packages("janitor")
remove.packages("jquerylib")
remove.packages("jsonlite")
remove.packages("kableExtra")
remove.packages("KernSmooth")
remove.packages("knitr")
remove.packages("labeling")
remove.packages("later")
remove.packages("lattice")
remove.packages("lazyeval")
remove.packages("ldatuning")
remove.packages("LDAvis")
remove.packages("leaflet")
remove.packages("leaflet.providers")
remove.packages("lifecycle")
remove.packages("lpSolve")
remove.packages("lubridate")
remove.packages("magrittr")
remove.packages("markdown")
remove.packages("MASS")
remove.packages("Matrix")
remove.packages("memoise")
remove.packages("mgcv")
remove.packages("mime")
remove.packages("miniUI")
remove.packages("modelr")
remove.packages("modeltools")
remove.packages("moderndive")
remove.packages("munsell")
remove.packages("mvtnorm")
remove.packages("networkdata")
remove.packages("nlme")
remove.packages("NLP")
remove.packages("nnet")
remove.packages("nycflights13")
remove.packages("nycflights23")
remove.packages("openssl")
remove.packages("operator.tools")
remove.packages("pacman")
remove.packages("patchwork")
remove.packages("pillar")
remove.packages("pkgbuild")
remove.packages("pkgconfig")
remove.packages("pkgdown")
remove.packages("pkgload")
remove.packages("plyr")
remove.packages("png")
remove.packages("polyclip")
remove.packages("praise")
remove.packages("prettyunits")
remove.packages("processx")
remove.packages("profvis")
remove.packages("progress")
remove.packages("promises")
remove.packages("proxy")
remove.packages("ps")
remove.packages("purrr")
remove.packages("quanteda")
remove.packages("R6")
remove.packages("ragg")
remove.packages("rappdirs")
remove.packages("raster")
remove.packages("rcmdcheck")
remove.packages("RColorBrewer")
remove.packages("Rcpp")
remove.packages("RcppArmadillo")
remove.packages("RcppEigen")
remove.packages("readr")
remove.packages("readxl")
remove.packages("rematch")
remove.packages("rematch2")
remove.packages("remotes")
remove.packages("repr")
remove.packages("reprex")
remove.packages("reshape2")
remove.packages("RJSONIO")
remove.packages("rlang")
remove.packages("rmarkdown")
remove.packages("Rmpfr")
remove.packages("roxygen2")
remove.packages("rpart")
remove.packages("rprojroot")
remove.packages("rstudioapi")
remove.packages("rversions")
remove.packages("rvest")
remove.packages("S7")
remove.packages("sass")
remove.packages("scales")
remove.packages("scriptuRs")
remove.packages("selectr")
remove.packages("servr")
remove.packages("sessioninfo")
remove.packages("shiny")
remove.packages("sjlabelled")
remove.packages("sjmisc")
remove.packages("skimr")
remove.packages("slam")
remove.packages("snakecase")
remove.packages("SnowballC")
remove.packages("sourcetools")
remove.packages("sp")
remove.packages("spatial")
remove.packages("stopwords")
remove.packages("stringi")
remove.packages("stringr")
remove.packages("survival")
remove.packages("svglite")
remove.packages("sys")
remove.packages("systemfonts")
remove.packages("terra")
remove.packages("testthat")
remove.packages("textshaping")
remove.packages("tibble")
remove.packages("tidygraph")
remove.packages("tidyr")
remove.packages("tidyselect")
remove.packages("tidytext")
remove.packages("tidyverse")
remove.packages("timechange")
remove.packages("tinytex")
remove.packages("tm")
remove.packages("tokenizers")
remove.packages("topicmodels")
remove.packages("tweenr")
remove.packages("tzdb")
remove.packages("urlchecker")
remove.packages("usethis")
remove.packages("utf8")
remove.packages("uuid")
remove.packages("vctrs")
remove.packages("viridis")
remove.packages("viridisLite")
remove.packages("vroom")
remove.packages("waldo")
remove.packages("webshot")
remove.packages("whisker")
remove.packages("withr")
remove.packages("xaringan")
remove.packages("xfun")
remove.packages("xml2")
remove.packages("xopen")
remove.packages("xtable")
remove.packages("xts")
remove.packages("yaml")
remove.packages("zip")
remove.packages("zoo")
library(nycflights23)
library(ggplot2)
library(moderndive)
library(tibble)
# Packages needed internally, but not in book.
library(dplyr)
library(gapminder)
library(kableExtra)
library(readr)
library(patchwork)
library(scales)
library(stringr)
ggplot(data = envoy_flights, mapping = aes(x = dep_delay, y = arr_delay)) +
geom_point(alpha = 0.2)
jitter_example <- tibble(
x = rep(0, 4),
y = rep(0, 4)
)
jittered_plot_1 <- ggplot(data = jitter_example, mapping = aes(x = x, y = y)) +
geom_point() +
coord_cartesian(xlim = c(-0.025, 0.025), ylim = c(-0.025, 0.025)) +
labs(title = "Regular scatterplot")
jittered_plot_2 <- ggplot(data = jitter_example, mapping = aes(x = x, y = y)) +
geom_jitter(width = 0.01, height = 0.01) +
coord_cartesian(xlim = c(-0.025, 0.025), ylim = c(-0.025, 0.025)) +
labs(title = "Jittered scatterplot")
jittered_plot_1 + jittered_plot_2
almonds_sample_100 |>
summarize(
sample_mean = mean(weight),
lower_bound = mean(weight) - 1.96 * sd(weight) / sqrt(length(weight)),
upper_bound = mean(weight) + 1.96 * sd(weight) / sqrt(length(weight))
)
almonds_sample_100 |>
summarize(
sample_mean = mean(weight),
lower_bound = mean(weight) - 1.96 * sd(weight) / sqrt(length(weight)),
upper_bound = mean(weight) + 1.96 * sd(weight) / sqrt(length(weight))
)
almonds_sample_100 |>
summarize(
sample_mean = mean(weight),
lower_bound = mean(weight) - 1.96 * sd(weight) / sqrt(length(weight)),
upper_bound = mean(weight) + 1.96 * sd(weight) / sqrt(length(weight))
)
almonds_sample_100 |>
summarize(
sample_mean = mean(weight),
lower_bound = mean(weight) - 1.96 * sd(weight) / sqrt(length(weight)),
upper_bound = mean(weight) + 1.96 * sd(weight) / sqrt(length(weight))
)
almonds_sample_100 |>
summarize(
sample_mean = mean(weight),
lower_bound = mean(weight) - 1.96 * sd(weight) / sqrt(length(weight)),
upper_bound = mean(weight) + 1.96 * sd(weight) / sqrt(length(weight))
)
almonds_sample_100 |>
summarize(
sample_mean = mean(weight),
lower_bound = mean(weight) - 1.96 * sigma / sqrt(length(weight)),
upper_bound = mean(weight) + 1.96 * sigma / sqrt(length(weight))
)
almonds_sample_100 |>
summarize(
sample_mean = mean(weight),
lower_bound = mean(weight) - 1.96 * pop_sd(weight) / sqrt(length(weight)),
upper_bound = mean(weight) + 1.96 * pop_sd(weight) / sqrt(length(weight))
)
lower_bound <- sample_mean - 1.96 * sigma / sqrt(100)
library(dplyr)
library(moderndive)
library(tidyverse)
library(knitr)
# This code is used for dynamic non-static in-line text output purposes
p_red <- bowl |>
summarize(mean(color == "red")) |>
pull()
n_balls_sample <- 50L # sample size for the bowl with balls activity
n_virtual_resample <- 1000L # number of bootstrap samples used in this chapter
n_manual_rep <- 35L # number of bootstrap sample when pretending a study manually
library(tidyverse)
library(moderndive)
library(infer)
# Packages needed internally, but not in the text
library(knitr)
library(kableExtra)
library(patchwork)
library(purrr)
library(scales)
library(knitr)
library(ggrepel)
almonds_sample_100 <- moderndive::almonds_sample_100
almonds_sample_100
# This code is used for dynamic non-static in-line text output purposes
# x_bar is the mean almonds' weight of the original sample of size n=100
x_bar <- almonds_sample_100 |>
summarize(mean_weight = mean(weight)) |>
pull(mean_weight)
almonds_sample_100 |>
summarize(sample_mean = mean(weight))
xbar <- mean(almonds_sample_100$weight)
almonds_bowl |>
summarize(population_mean = mean(weight),
population_sd = pop_sd(weight))
almonds_bowl |>
summarize(mu = mean(weight), sigma = sd(weight))
sigma
sigma
n = 25
x = almonds_bowl$weight
mu = mean(x)
sigma = sqrt(mean(x^2)-mean(x)^2)
if (!file.exists("rds/virtual_mean_weight_25.rds")) {
virtual_mean_weight_25 <- almonds_bowl |>
rep_slice_sample(n = 25, replace = TRUE, reps = 1000) |>
summarize(mean_weight = mean(weight), n = n())
write_rds(virtual_mean_weight_25, "rds/virtual_mean_weight_25.rds")
} else {
virtual_mean_weight_25 <- read_rds("rds/virtual_mean_weight_25.rds")
}
ggplot(virtual_mean_weight_25, aes(x = mean_weight)) +
geom_histogram(aes(y=after_stat(density)), binwidth = 0.02, color = "white") +
stat_function(fun = dnorm,  args = list(mean = mu, sd = sigma/sqrt(n)), col="red") + xlim(3.4,4) + ylim(0,12) +
labs(
x = "Sample means with n = 25"
)
sigma
almonds_bowl |> select(weight) |> mean()
almonds_bowl |> select(weight) |> mean(na.rm = TRUE)
almonds_bowl |> select(weight)
almonds_bowl |> select(weight) |> mean()
almonds_bowl |> select(weight) |> summarize(mean())
almonds_bowl |> select(weight) |> summarize(mean(weight))
mu <- almonds_bowl |> summarize(mean(weight))
mu
mu * 2
mean(almonds_bowl$weight)
mu <- mean(almonds_bowl$weight)
sigma <- pop_sd(almonds_bowl$weight)
mu <- mean(almonds_bowl$weight)
mu
sigma <- pop_sd(almonds_bowl$weight)
sigma
mu <- mean(almonds_bowl$weight)
mu
sigma <- pop_sd(almonds_bowl$weight)
sigma
almonds_sample_100 |>
summarize(mean_weight = mean(weight),
sd_weight = sd(weight),
sample_size = n())
lower_bound <- sample_mean - 1.96 * sigma / sqrt(100)
almonds_sample_100 |>
summarize(
sample_mean = mean(weight),
lower_bound = mean(weight) - 1.96 * sigma / sqrt(length(weight)),
upper_bound = mean(weight) + 1.96 * sigma / sqrt(length(weight))
)
bookdown::render_book()
install.packages("bookdown")
bookdown::render_book()
install.packages("pander")
install.packages("ISLR2")
bookdown::render_book()
bookdown::render_book()
bookdown::render_book()
num_almonds_sample <- length(almonds_sample_100$weight)
xbar <- mean(almonds_sample_100$weight)
if (!file.exists("rds/virtual_mean_weight_100.rds")) {
set.seed(2)
virtual_mean_weight_100 <- almonds_bowl |>
rep_slice_sample(n = num_almonds_sample, replace = TRUE, reps = 1000) |>
summarize(mean_weight = mean(weight), n = n())
write_rds(virtual_mean_weight_100, "rds/virtual_mean_weight_100.rds")
} else {
virtual_mean_weight_100 <- read_rds("rds/virtual_mean_weight_100.rds")
}
ggplot(virtual_mean_weight_100, aes(x = mean_weight)) +
geom_histogram(aes(y=..density..), binwidth = 0.01, color = "white") +
stat_function(fun = dnorm,  args = list(mean = mu, sd = sigma/sqrt(num_almonds_sample)), col="red") +
labs(
x = "Sample means with n=100"
) +
geom_point(aes(x=mean(almonds_sample_100$weight), y=0), color="blue") +
geom_point(aes(x=mu, y=0), color="red") +
annotate(geom="text", x=mu, y=-1, label=bquote("\u03BC"),
color="red") +
annotate(geom="text", x=mean(almonds_sample_100$weight), y=-1, label=bquote(bar(x)),
color="blue")
num_almonds_sample <- length(almonds_sample_100$weight)
xbar <- mean(almonds_sample_100$weight)
if (!file.exists("rds/virtual_mean_weight_100.rds")) {
set.seed(2)
virtual_mean_weight_100 <- almonds_bowl |>
rep_slice_sample(n = num_almonds_sample, replace = TRUE, reps = 1000) |>
summarize(mean_weight = mean(weight), n = n())
write_rds(virtual_mean_weight_100, "rds/virtual_mean_weight_100.rds")
} else {
virtual_mean_weight_100 <- read_rds("rds/virtual_mean_weight_100.rds")
}
ggplot(virtual_mean_weight_100, aes(x = mean_weight)) +
geom_histogram(aes(y=..density..), binwidth = 0.01, color = "white") +
stat_function(fun = dnorm,  args = list(mean = mu, sd = sigma/sqrt(num_almonds_sample)), col="red") +
labs(
x = "Sample means with n=100"
) +
geom_point(aes(x=mean(almonds_sample_100$weight), y=0), color="blue") +
geom_point(aes(x=mu, y=0), color="red") +
annotate(geom="text", x=mu, y=-1, label=bquote("\u03BC"), parse = TRUE
color="red") +
num_almonds_sample <- length(almonds_sample_100$weight)
xbar <- mean(almonds_sample_100$weight)
if (!file.exists("rds/virtual_mean_weight_100.rds")) {
set.seed(2)
virtual_mean_weight_100 <- almonds_bowl |>
rep_slice_sample(n = num_almonds_sample, replace = TRUE, reps = 1000) |>
summarize(mean_weight = mean(weight), n = n())
write_rds(virtual_mean_weight_100, "rds/virtual_mean_weight_100.rds")
} else {
virtual_mean_weight_100 <- read_rds("rds/virtual_mean_weight_100.rds")
}
ggplot(virtual_mean_weight_100, aes(x = mean_weight)) +
geom_histogram(aes(y=..density..), binwidth = 0.01, color = "white") +
stat_function(fun = dnorm,  args = list(mean = mu, sd = sigma/sqrt(num_almonds_sample)), col="red") +
labs(
x = "Sample means with n=100"
) +
geom_point(aes(x=mean(almonds_sample_100$weight), y=0), color="blue") +
geom_point(aes(x=mu, y=0), color="red") +
annotate(geom="text", x=mu, y=-1, label=bquote("\u03BC"), parse = TRUE,
color="red") +
annotate(geom="text", x=mean(almonds_sample_100$weight), y=-1, label=bquote(bar(x)), parse = TRUE,
color="blue")
library(latex2exp)
install.packages("latex2exp")
?bquote()
num_almonds_sample <- length(almonds_sample_100$weight)
xbar <- mean(almonds_sample_100$weight)
if (!file.exists("rds/virtual_mean_weight_100.rds")) {
set.seed(2)
virtual_mean_weight_100 <- almonds_bowl |>
rep_slice_sample(n = num_almonds_sample, replace = TRUE, reps = 1000) |>
summarize(mean_weight = mean(weight), n = n())
write_rds(virtual_mean_weight_100, "rds/virtual_mean_weight_100.rds")
} else {
virtual_mean_weight_100 <- read_rds("rds/virtual_mean_weight_100.rds")
}
ggplot(virtual_mean_weight_100, aes(x = mean_weight)) +
geom_histogram(aes(y=..density..), binwidth = 0.01, color = "white") +
stat_function(fun = dnorm,  args = list(mean = mu, sd = sigma/sqrt(num_almonds_sample)), col="red") +
labs(
x = "Sample means with n=100"
) +
geom_point(aes(x=mean(almonds_sample_100$weight), y=0), color="blue") +
geom_point(aes(x=mu, y=0), color="red") +
annotate(geom="text", x=mu, y=-1, label="\u03BC",
color="red") +
annotate(geom="text", x=mean(almonds_sample_100$weight), y=-1, label=bar(x),
color="blue")
?bar()
num_almonds_sample <- length(almonds_sample_100$weight)
xbar <- mean(almonds_sample_100$weight)
if (!file.exists("rds/virtual_mean_weight_100.rds")) {
set.seed(2)
virtual_mean_weight_100 <- almonds_bowl |>
rep_slice_sample(n = num_almonds_sample, replace = TRUE, reps = 1000) |>
summarize(mean_weight = mean(weight), n = n())
write_rds(virtual_mean_weight_100, "rds/virtual_mean_weight_100.rds")
} else {
virtual_mean_weight_100 <- read_rds("rds/virtual_mean_weight_100.rds")
}
ggplot(virtual_mean_weight_100, aes(x = mean_weight)) +
geom_histogram(aes(y=..density..), binwidth = 0.01, color = "white") +
stat_function(fun = dnorm,  args = list(mean = mu, sd = sigma/sqrt(num_almonds_sample)), col="red") +
labs(
x = "Sample means with n=100"
) +
geom_point(aes(x=mean(almonds_sample_100$weight), y=0), color="blue") +
geom_point(aes(x=mu, y=0), color="red") +
annotate(geom="text", x=mu, y=-1, label="\u03BC",
color="red") +
annotate(geom="text", x=mean(almonds_sample_100$weight), y=-1, label="bar(x)",
color="blue")
num_almonds_sample <- length(almonds_sample_100$weight)
xbar <- mean(almonds_sample_100$weight)
if (!file.exists("rds/virtual_mean_weight_100.rds")) {
set.seed(2)
virtual_mean_weight_100 <- almonds_bowl |>
rep_slice_sample(n = num_almonds_sample, replace = TRUE, reps = 1000) |>
summarize(mean_weight = mean(weight), n = n())
write_rds(virtual_mean_weight_100, "rds/virtual_mean_weight_100.rds")
} else {
virtual_mean_weight_100 <- read_rds("rds/virtual_mean_weight_100.rds")
}
ggplot(virtual_mean_weight_100, aes(x = mean_weight)) +
geom_histogram(aes(y=..density..), binwidth = 0.01, color = "white") +
stat_function(fun = dnorm,  args = list(mean = mu, sd = sigma/sqrt(num_almonds_sample)), col="red") +
labs(
x = "Sample means with n=100"
) +
geom_point(aes(x=mean(almonds_sample_100$weight), y=0), color="blue") +
geom_point(aes(x=mu, y=0), color="red") +
annotate(geom="text", x=mu, y=-1, label="\u03BC",
color="red") +
annotate(geom="text", x=mean(almonds_sample_100$weight), y=-1, label="$\overline  X$",
bookdown::render_book()
bookdown::render_book()
bookdown::render_book()
bookdown::render_book()
bookdown::render_book()
