<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>18 M6A: Wrangling and Tidying Data | Introduction to Data Science</title>
  <meta name="description" content="18 M6A: Wrangling and Tidying Data | Introduction to Data Science" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="18 M6A: Wrangling and Tidying Data | Introduction to Data Science" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="18 M6A: Wrangling and Tidying Data | Introduction to Data Science" />
  
  
  

<meta name="author" content="Spencer P. Greenhalgh, PhD" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="m6u-unicorns-janitors-and-rock-stars.html"/>
<link rel="next" href="m6c-practice-wrangling-and-tidying-your-own-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="module-1-understanding.html"><a href="module-1-understanding.html"><i class="fa fa-check"></i><b>2</b> Module 1 Understanding</a></li>
<li class="chapter" data-level="3" data-path="m1a-install-r-and-rstudio.html"><a href="m1a-install-r-and-rstudio.html"><i class="fa fa-check"></i><b>3</b> M1A: Install R and RStudio</a>
<ul>
<li class="chapter" data-level="3.1" data-path="m1a-install-r-and-rstudio.html"><a href="m1a-install-r-and-rstudio.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="m1a-install-r-and-rstudio.html"><a href="m1a-install-r-and-rstudio.html#r"><i class="fa fa-check"></i><b>3.2</b> R</a></li>
<li class="chapter" data-level="3.3" data-path="m1a-install-r-and-rstudio.html"><a href="m1a-install-r-and-rstudio.html#rstudio"><i class="fa fa-check"></i><b>3.3</b> RStudio</a></li>
<li class="chapter" data-level="3.4" data-path="m1a-install-r-and-rstudio.html"><a href="m1a-install-r-and-rstudio.html#references"><i class="fa fa-check"></i><b>3.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="m1c-introduce-yourself-to-the-class.html"><a href="m1c-introduce-yourself-to-the-class.html"><i class="fa fa-check"></i><b>4</b> M1C: Introduce Yourself to the Class</a></li>
<li class="chapter" data-level="5" data-path="m2u-the-new-and-shiny-science-of-data.html"><a href="m2u-the-new-and-shiny-science-of-data.html"><i class="fa fa-check"></i><b>5</b> M2U: The New(?) and Shiny(?) Science of Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="m2u-the-new-and-shiny-science-of-data.html"><a href="m2u-the-new-and-shiny-science-of-data.html#data-data-science-and-big-data"><i class="fa fa-check"></i><b>5.1</b> Data, Data Science, and Big Data</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="m2u-the-new-and-shiny-science-of-data.html"><a href="m2u-the-new-and-shiny-science-of-data.html#data"><i class="fa fa-check"></i><b>5.1.1</b> Data</a></li>
<li class="chapter" data-level="5.1.2" data-path="m2u-the-new-and-shiny-science-of-data.html"><a href="m2u-the-new-and-shiny-science-of-data.html#data-science"><i class="fa fa-check"></i><b>5.1.2</b> Data Science</a></li>
<li class="chapter" data-level="5.1.3" data-path="m2u-the-new-and-shiny-science-of-data.html"><a href="m2u-the-new-and-shiny-science-of-data.html#big-data"><i class="fa fa-check"></i><b>5.1.3</b> Big Data</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="m2u-the-new-and-shiny-science-of-data.html"><a href="m2u-the-new-and-shiny-science-of-data.html#the-many-skills-of-data-science"><i class="fa fa-check"></i><b>5.2</b> The Many Skills of Data Science</a></li>
<li class="chapter" data-level="5.3" data-path="m2u-the-new-and-shiny-science-of-data.html"><a href="m2u-the-new-and-shiny-science-of-data.html#references-1"><i class="fa fa-check"></i><b>5.3</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>6</b> M2A: Getting Started with Data in R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="getting-started.html"><a href="getting-started.html#introduction-2"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="getting-started.html"><a href="getting-started.html#r-rstudio"><i class="fa fa-check"></i><b>6.2</b> What are R and RStudio?</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="getting-started.html"><a href="getting-started.html#using-r-via-rstudio"><i class="fa fa-check"></i><b>6.2.1</b> Using R via RStudio</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="getting-started.html"><a href="getting-started.html#code"><i class="fa fa-check"></i><b>6.3</b> How do I code in R?</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="getting-started.html"><a href="getting-started.html#programming-concepts"><i class="fa fa-check"></i><b>6.3.1</b> Basic programming concepts and terminology</a></li>
<li class="chapter" data-level="6.3.2" data-path="getting-started.html"><a href="getting-started.html#messages"><i class="fa fa-check"></i><b>6.3.2</b> Errors, warnings, and messages</a></li>
<li class="chapter" data-level="6.3.3" data-path="getting-started.html"><a href="getting-started.html#tips-code"><i class="fa fa-check"></i><b>6.3.3</b> Tips on learning to code</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="getting-started.html"><a href="getting-started.html#packages"><i class="fa fa-check"></i><b>6.4</b> What are R packages?</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="getting-started.html"><a href="getting-started.html#package-installation"><i class="fa fa-check"></i><b>6.4.1</b> Package installation</a></li>
<li class="chapter" data-level="6.4.2" data-path="getting-started.html"><a href="getting-started.html#package-loading"><i class="fa fa-check"></i><b>6.4.2</b> Package loading</a></li>
<li class="chapter" data-level="6.4.3" data-path="getting-started.html"><a href="getting-started.html#package-use"><i class="fa fa-check"></i><b>6.4.3</b> Package use</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="getting-started.html"><a href="getting-started.html#nycflights13"><i class="fa fa-check"></i><b>6.5</b> Explore your first datasets</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="getting-started.html"><a href="getting-started.html#nycflights13-package"><i class="fa fa-check"></i><b>6.5.1</b> <code>nycflights13</code> package</a></li>
<li class="chapter" data-level="6.5.2" data-path="getting-started.html"><a href="getting-started.html#flights-data-frame"><i class="fa fa-check"></i><b>6.5.2</b> <code>flights</code> data frame</a></li>
<li class="chapter" data-level="6.5.3" data-path="getting-started.html"><a href="getting-started.html#exploredataframes"><i class="fa fa-check"></i><b>6.5.3</b> Exploring data frames</a></li>
<li class="chapter" data-level="6.5.4" data-path="getting-started.html"><a href="getting-started.html#identification-vs-measurement-variables"><i class="fa fa-check"></i><b>6.5.4</b> Identification and measurement variables</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="getting-started.html"><a href="getting-started.html#conclusion"><i class="fa fa-check"></i><b>6.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="m2c-set-up-github.html"><a href="m2c-set-up-github.html"><i class="fa fa-check"></i><b>7</b> M2C: Set up GitHub</a>
<ul>
<li class="chapter" data-level="7.1" data-path="m2c-set-up-github.html"><a href="m2c-set-up-github.html#introduction-3"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="m2c-set-up-github.html"><a href="m2c-set-up-github.html#gitand-githubin-data-science"><i class="fa fa-check"></i><b>7.2</b> Git—and GitHub—in Data Science</a></li>
<li class="chapter" data-level="7.3" data-path="m2c-set-up-github.html"><a href="m2c-set-up-github.html#github-in-ictlis-661"><i class="fa fa-check"></i><b>7.3</b> GitHub in ICT/LIS 661</a></li>
<li class="chapter" data-level="7.4" data-path="m2c-set-up-github.html"><a href="m2c-set-up-github.html#setting-up-github"><i class="fa fa-check"></i><b>7.4</b> Setting Up GitHub</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="m2c-set-up-github.html"><a href="m2c-set-up-github.html#creating-a-github-account"><i class="fa fa-check"></i><b>7.4.1</b> Creating a GitHub Account</a></li>
<li class="chapter" data-level="7.4.2" data-path="m2c-set-up-github.html"><a href="m2c-set-up-github.html#setting-up-a-github-repository-for-class"><i class="fa fa-check"></i><b>7.4.2</b> Setting up a GitHub Repository for Class</a></li>
<li class="chapter" data-level="7.4.3" data-path="m2c-set-up-github.html"><a href="m2c-set-up-github.html#installing-github-desktop"><i class="fa fa-check"></i><b>7.4.3</b> Installing GitHub Desktop</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="m2c-set-up-github.html"><a href="m2c-set-up-github.html#moving-forward"><i class="fa fa-check"></i><b>7.5</b> Moving Forward</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="m3u-research-paradigms-and-reproducibility.html"><a href="m3u-research-paradigms-and-reproducibility.html"><i class="fa fa-check"></i><b>8</b> M3U: Research Paradigms and Reproducibility</a>
<ul>
<li class="chapter" data-level="8.1" data-path="m3u-research-paradigms-and-reproducibility.html"><a href="m3u-research-paradigms-and-reproducibility.html#introduction-4"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="m3u-research-paradigms-and-reproducibility.html"><a href="m3u-research-paradigms-and-reproducibility.html#reproducibility-and-paradigms"><i class="fa fa-check"></i><b>8.2</b> Reproducibility and Paradigms</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="m3u-research-paradigms-and-reproducibility.html"><a href="m3u-research-paradigms-and-reproducibility.html#an-example-paradigm"><i class="fa fa-check"></i><b>8.2.1</b> An Example Paradigm</a></li>
<li class="chapter" data-level="8.2.2" data-path="m3u-research-paradigms-and-reproducibility.html"><a href="m3u-research-paradigms-and-reproducibility.html#another-example-paradigm"><i class="fa fa-check"></i><b>8.2.2</b> Another Example Paradigm</a></li>
<li class="chapter" data-level="8.2.3" data-path="m3u-research-paradigms-and-reproducibility.html"><a href="m3u-research-paradigms-and-reproducibility.html#why-do-paradigms-matter"><i class="fa fa-check"></i><b>8.2.3</b> Why Do Paradigms Matter?</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="m3u-research-paradigms-and-reproducibility.html"><a href="m3u-research-paradigms-and-reproducibility.html#supporting-reproducibility"><i class="fa fa-check"></i><b>8.3</b> Supporting Reproducibility</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="m3u-research-paradigms-and-reproducibility.html"><a href="m3u-research-paradigms-and-reproducibility.html#open-design"><i class="fa fa-check"></i><b>8.3.1</b> Open Design</a></li>
<li class="chapter" data-level="8.3.2" data-path="m3u-research-paradigms-and-reproducibility.html"><a href="m3u-research-paradigms-and-reproducibility.html#open-analysis"><i class="fa fa-check"></i><b>8.3.2</b> Open Analysis</a></li>
<li class="chapter" data-level="8.3.3" data-path="m3u-research-paradigms-and-reproducibility.html"><a href="m3u-research-paradigms-and-reproducibility.html#open-publication"><i class="fa fa-check"></i><b>8.3.3</b> Open Publication</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="m3u-research-paradigms-and-reproducibility.html"><a href="m3u-research-paradigms-and-reproducibility.html#conclusion-1"><i class="fa fa-check"></i><b>8.4</b> Conclusion</a></li>
<li class="chapter" data-level="8.5" data-path="m3u-research-paradigms-and-reproducibility.html"><a href="m3u-research-paradigms-and-reproducibility.html#references-2"><i class="fa fa-check"></i><b>8.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="m3a-using-projects-and-scripts-in-r.html"><a href="m3a-using-projects-and-scripts-in-r.html"><i class="fa fa-check"></i><b>9</b> M3A: Using Projects and Scripts in R</a>
<ul>
<li class="chapter" data-level="9.1" data-path="m3a-using-projects-and-scripts-in-r.html"><a href="m3a-using-projects-and-scripts-in-r.html#introduction-5"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="m3a-using-projects-and-scripts-in-r.html"><a href="m3a-using-projects-and-scripts-in-r.html#more-about-r-and-rstudio"><i class="fa fa-check"></i><b>9.2</b> More About R and RStudio</a></li>
<li class="chapter" data-level="9.3" data-path="m3a-using-projects-and-scripts-in-r.html"><a href="m3a-using-projects-and-scripts-in-r.html#the-console-and-the-workspace"><i class="fa fa-check"></i><b>9.3</b> The Console and the Workspace</a></li>
<li class="chapter" data-level="9.4" data-path="m3a-using-projects-and-scripts-in-r.html"><a href="m3a-using-projects-and-scripts-in-r.html#holding-onto-code"><i class="fa fa-check"></i><b>9.4</b> Holding Onto Code</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="m3a-using-projects-and-scripts-in-r.html"><a href="m3a-using-projects-and-scripts-in-r.html#rstudio-projects"><i class="fa fa-check"></i><b>9.4.1</b> RStudio Projects</a></li>
<li class="chapter" data-level="9.4.2" data-path="m3a-using-projects-and-scripts-in-r.html"><a href="m3a-using-projects-and-scripts-in-r.html#using-scripts"><i class="fa fa-check"></i><b>9.4.2</b> Using Scripts</a></li>
<li class="chapter" data-level="9.4.3" data-path="m3a-using-projects-and-scripts-in-r.html"><a href="m3a-using-projects-and-scripts-in-r.html#backing-up-your-project-folder"><i class="fa fa-check"></i><b>9.4.3</b> Backing Up Your Project Folder</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="m3a-using-projects-and-scripts-in-r.html"><a href="m3a-using-projects-and-scripts-in-r.html#conclusion-2"><i class="fa fa-check"></i><b>9.5</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="m3c-writing-in-r-markdown.html"><a href="m3c-writing-in-r-markdown.html"><i class="fa fa-check"></i><b>10</b> M3C: Writing in R Markdown</a>
<ul>
<li class="chapter" data-level="10.1" data-path="m3c-writing-in-r-markdown.html"><a href="m3c-writing-in-r-markdown.html#introduction-6"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="m3c-writing-in-r-markdown.html"><a href="m3c-writing-in-r-markdown.html#markdown-syntax"><i class="fa fa-check"></i><b>10.2</b> Markdown syntax</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="m3c-writing-in-r-markdown.html"><a href="m3c-writing-in-r-markdown.html#inline-formatting"><i class="fa fa-check"></i><b>10.2.1</b> Inline formatting</a></li>
<li class="chapter" data-level="10.2.2" data-path="m3c-writing-in-r-markdown.html"><a href="m3c-writing-in-r-markdown.html#block-level-elements"><i class="fa fa-check"></i><b>10.2.2</b> Block-level elements</a></li>
<li class="chapter" data-level="10.2.3" data-path="m3c-writing-in-r-markdown.html"><a href="m3c-writing-in-r-markdown.html#r-code-chunks"><i class="fa fa-check"></i><b>10.2.3</b> R code chunks</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="m3c-writing-in-r-markdown.html"><a href="m3c-writing-in-r-markdown.html#trying-out-r-markdown"><i class="fa fa-check"></i><b>10.3</b> Trying out R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="m4u-the-value-of-open-data.html"><a href="m4u-the-value-of-open-data.html"><i class="fa fa-check"></i><b>11</b> M4U: The Value of Open Data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="m4u-the-value-of-open-data.html"><a href="m4u-the-value-of-open-data.html#introduction-7"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="m4u-the-value-of-open-data.html"><a href="m4u-the-value-of-open-data.html#positivism-and-the-need-for-data"><i class="fa fa-check"></i><b>11.2</b> Positivism and the Need for Data</a></li>
<li class="chapter" data-level="11.3" data-path="m4u-the-value-of-open-data.html"><a href="m4u-the-value-of-open-data.html#sharing-data"><i class="fa fa-check"></i><b>11.3</b> Sharing Data</a></li>
<li class="chapter" data-level="11.4" data-path="m4u-the-value-of-open-data.html"><a href="m4u-the-value-of-open-data.html#sharing-data-and-privacy"><i class="fa fa-check"></i><b>11.4</b> Sharing Data and Privacy</a></li>
<li class="chapter" data-level="11.5" data-path="m4u-the-value-of-open-data.html"><a href="m4u-the-value-of-open-data.html#how-to-share-data"><i class="fa fa-check"></i><b>11.5</b> How to Share Data</a></li>
<li class="chapter" data-level="11.6" data-path="m4u-the-value-of-open-data.html"><a href="m4u-the-value-of-open-data.html#benefits-of-sharing-data"><i class="fa fa-check"></i><b>11.6</b> Benefits of Sharing Data</a></li>
<li class="chapter" data-level="11.7" data-path="m4u-the-value-of-open-data.html"><a href="m4u-the-value-of-open-data.html#downsides-of-sharing-data"><i class="fa fa-check"></i><b>11.7</b> Downsides of Sharing Data</a></li>
<li class="chapter" data-level="11.8" data-path="m4u-the-value-of-open-data.html"><a href="m4u-the-value-of-open-data.html#incentives-for-sharing-data"><i class="fa fa-check"></i><b>11.8</b> Incentives for Sharing Data</a></li>
<li class="chapter" data-level="11.9" data-path="m4u-the-value-of-open-data.html"><a href="m4u-the-value-of-open-data.html#conclusion-3"><i class="fa fa-check"></i><b>11.9</b> Conclusion</a></li>
<li class="chapter" data-level="11.10" data-path="m4u-the-value-of-open-data.html"><a href="m4u-the-value-of-open-data.html#references-3"><i class="fa fa-check"></i><b>11.10</b> References</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="m4a-find-a-dataset-relevant-to-you.html"><a href="m4a-find-a-dataset-relevant-to-you.html"><i class="fa fa-check"></i><b>12</b> M4A: Find a Dataset Relevant To You</a>
<ul>
<li class="chapter" data-level="12.1" data-path="m4a-find-a-dataset-relevant-to-you.html"><a href="m4a-find-a-dataset-relevant-to-you.html#introduction-8"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="m4a-find-a-dataset-relevant-to-you.html"><a href="m4a-find-a-dataset-relevant-to-you.html#signs-of-a-good-dataset"><i class="fa fa-check"></i><b>12.2</b> Signs of a Good Dataset</a></li>
<li class="chapter" data-level="12.3" data-path="m4a-find-a-dataset-relevant-to-you.html"><a href="m4a-find-a-dataset-relevant-to-you.html#finding-a-good-dataset"><i class="fa fa-check"></i><b>12.3</b> Finding a Good Dataset</a></li>
<li class="chapter" data-level="12.4" data-path="m4a-find-a-dataset-relevant-to-you.html"><a href="m4a-find-a-dataset-relevant-to-you.html#loading-dataset"><i class="fa fa-check"></i><b>12.4</b> Loading Your Dataset</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="m4c-show-your-work.html"><a href="m4c-show-your-work.html"><i class="fa fa-check"></i><b>13</b> M4C: Show Your Work</a>
<ul>
<li class="chapter" data-level="13.1" data-path="m4c-show-your-work.html"><a href="m4c-show-your-work.html#introduction-9"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="m4c-show-your-work.html"><a href="m4c-show-your-work.html#invisible-labor"><i class="fa fa-check"></i><b>13.2</b> Invisible Labor</a></li>
<li class="chapter" data-level="13.3" data-path="m4c-show-your-work.html"><a href="m4c-show-your-work.html#the-invisible-labor-of-data-science"><i class="fa fa-check"></i><b>13.3</b> The Invisible Labor of Data Science</a></li>
<li class="chapter" data-level="13.4" data-path="m4c-show-your-work.html"><a href="m4c-show-your-work.html#time-and-money"><i class="fa fa-check"></i><b>13.4</b> Time and Money</a></li>
<li class="chapter" data-level="13.5" data-path="m4c-show-your-work.html"><a href="m4c-show-your-work.html#crediting-data-work"><i class="fa fa-check"></i><b>13.5</b> Crediting Data Work</a></li>
<li class="chapter" data-level="13.6" data-path="m4c-show-your-work.html"><a href="m4c-show-your-work.html#crediting-emotional-labor-and-care-work"><i class="fa fa-check"></i><b>13.6</b> Crediting Emotional Labor and Care Work</a></li>
<li class="chapter" data-level="13.7" data-path="m4c-show-your-work.html"><a href="m4c-show-your-work.html#show-your-work"><i class="fa fa-check"></i><b>13.7</b> Show Your Work</a></li>
<li class="chapter" data-level="13.8" data-path="m4c-show-your-work.html"><a href="m4c-show-your-work.html#references-4"><i class="fa fa-check"></i><b>13.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="m5u-numbers-dont-speak-for-themselves.html"><a href="m5u-numbers-dont-speak-for-themselves.html"><i class="fa fa-check"></i><b>14</b> M5U: Numbers Don’t Speak for Themselves</a>
<ul>
<li class="chapter" data-level="14.1" data-path="m5u-numbers-dont-speak-for-themselves.html"><a href="m5u-numbers-dont-speak-for-themselves.html#introduction-10"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="m5u-numbers-dont-speak-for-themselves.html"><a href="m5u-numbers-dont-speak-for-themselves.html#bigger-is-not-always-better"><i class="fa fa-check"></i><b>14.2</b> Bigger is not Always Better</a></li>
<li class="chapter" data-level="14.3" data-path="m5u-numbers-dont-speak-for-themselves.html"><a href="m5u-numbers-dont-speak-for-themselves.html#theory"><i class="fa fa-check"></i><b>14.3</b> Theory</a></li>
<li class="chapter" data-level="14.4" data-path="m5u-numbers-dont-speak-for-themselves.html"><a href="m5u-numbers-dont-speak-for-themselves.html#the-importance-of-theory"><i class="fa fa-check"></i><b>14.4</b> The Importance of Theory</a></li>
<li class="chapter" data-level="14.5" data-path="m5u-numbers-dont-speak-for-themselves.html"><a href="m5u-numbers-dont-speak-for-themselves.html#research-isnt-just-empirical"><i class="fa fa-check"></i><b>14.5</b> Research isn’t Just Empirical</a></li>
<li class="chapter" data-level="14.6" data-path="m5u-numbers-dont-speak-for-themselves.html"><a href="m5u-numbers-dont-speak-for-themselves.html#the-importance-of-context"><i class="fa fa-check"></i><b>14.6</b> The Importance of Context</a></li>
<li class="chapter" data-level="14.7" data-path="m5u-numbers-dont-speak-for-themselves.html"><a href="m5u-numbers-dont-speak-for-themselves.html#conclusion-4"><i class="fa fa-check"></i><b>14.7</b> Conclusion</a></li>
<li class="chapter" data-level="14.8" data-path="m5u-numbers-dont-speak-for-themselves.html"><a href="m5u-numbers-dont-speak-for-themselves.html#references-5"><i class="fa fa-check"></i><b>14.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="m5a-are-ethics-enough-in-data-science.html"><a href="m5a-are-ethics-enough-in-data-science.html"><i class="fa fa-check"></i><b>15</b> M5A: Are Ethics Enough in Data Science?</a>
<ul>
<li class="chapter" data-level="15.1" data-path="m5a-are-ethics-enough-in-data-science.html"><a href="m5a-are-ethics-enough-in-data-science.html#introduction-11"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="m5a-are-ethics-enough-in-data-science.html"><a href="m5a-are-ethics-enough-in-data-science.html#ethics-vs.-politics"><i class="fa fa-check"></i><b>15.2</b> Ethics vs. Politics</a></li>
<li class="chapter" data-level="15.3" data-path="m5a-are-ethics-enough-in-data-science.html"><a href="m5a-are-ethics-enough-in-data-science.html#why-politics"><i class="fa fa-check"></i><b>15.3</b> Why Politics?</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="m5a-are-ethics-enough-in-data-science.html"><a href="m5a-are-ethics-enough-in-data-science.html#argument-1-i-am-just-an-engineer"><i class="fa fa-check"></i><b>15.3.1</b> Argument 1: “I am Just an Engineer”</a></li>
<li class="chapter" data-level="15.3.2" data-path="m5a-are-ethics-enough-in-data-science.html"><a href="m5a-are-ethics-enough-in-data-science.html#argument-2-we-shouldnt-take-political-stances"><i class="fa fa-check"></i><b>15.3.2</b> Argument 2: “We Shouldn’t Take Political Stances”</a></li>
<li class="chapter" data-level="15.3.3" data-path="m5a-are-ethics-enough-in-data-science.html"><a href="m5a-are-ethics-enough-in-data-science.html#argument-3-dont-let-the-perfect-be-the-enemy-of-the-good"><i class="fa fa-check"></i><b>15.3.3</b> Argument 3: “Don’t Let the Perfect Be the Enemy of the Good”</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="m5a-are-ethics-enough-in-data-science.html"><a href="m5a-are-ethics-enough-in-data-science.html#conclusion-5"><i class="fa fa-check"></i><b>15.4</b> Conclusion</a></li>
<li class="chapter" data-level="15.5" data-path="m5a-are-ethics-enough-in-data-science.html"><a href="m5a-are-ethics-enough-in-data-science.html#references-6"><i class="fa fa-check"></i><b>15.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="m5c-reflect-on-theoretical-and-philosophical-constraints.html"><a href="m5c-reflect-on-theoretical-and-philosophical-constraints.html"><i class="fa fa-check"></i><b>16</b> M5C: Reflect on Theoretical and Philosophical Constraints</a></li>
<li class="chapter" data-level="17" data-path="m6u-unicorns-janitors-and-rock-stars.html"><a href="m6u-unicorns-janitors-and-rock-stars.html"><i class="fa fa-check"></i><b>17</b> M6U: Unicorns, Janitors, and Rock Stars</a>
<ul>
<li class="chapter" data-level="17.1" data-path="m6u-unicorns-janitors-and-rock-stars.html"><a href="m6u-unicorns-janitors-and-rock-stars.html#introduction-12"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="m6u-unicorns-janitors-and-rock-stars.html"><a href="m6u-unicorns-janitors-and-rock-stars.html#intentionally-challenging-data-visualization"><i class="fa fa-check"></i><b>17.2</b> Intentionally Challenging Data Visualization</a></li>
<li class="chapter" data-level="17.3" data-path="m6u-unicorns-janitors-and-rock-stars.html"><a href="m6u-unicorns-janitors-and-rock-stars.html#sexy-scientists-and-drab-janitors"><i class="fa fa-check"></i><b>17.3</b> Sexy Scientists and… Drab Janitors?</a></li>
<li class="chapter" data-level="17.4" data-path="m6u-unicorns-janitors-and-rock-stars.html"><a href="m6u-unicorns-janitors-and-rock-stars.html#strangers-in-the-dataset"><i class="fa fa-check"></i><b>17.4</b> Strangers in the Dataset</a></li>
<li class="chapter" data-level="17.5" data-path="m6u-unicorns-janitors-and-rock-stars.html"><a href="m6u-unicorns-janitors-and-rock-stars.html#sharing-work-and-sharing-credit"><i class="fa fa-check"></i><b>17.5</b> Sharing Work and Sharing Credit</a></li>
<li class="chapter" data-level="17.6" data-path="m6u-unicorns-janitors-and-rock-stars.html"><a href="m6u-unicorns-janitors-and-rock-stars.html#conclusion-6"><i class="fa fa-check"></i><b>17.6</b> Conclusion</a></li>
<li class="chapter" data-level="17.7" data-path="m6u-unicorns-janitors-and-rock-stars.html"><a href="m6u-unicorns-janitors-and-rock-stars.html#references-7"><i class="fa fa-check"></i><b>17.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html"><i class="fa fa-check"></i><b>18</b> M6A: Wrangling and Tidying Data</a>
<ul>
<li class="chapter" data-level="18.1" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#introduction-13"><i class="fa fa-check"></i><b>18.1</b> Introduction</a></li>
<li class="chapter" data-level="18.2" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#wrangling"><i class="fa fa-check"></i><b>18.2</b> Wrangling</a>
<ul>
<li class="chapter" data-level="" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#wrangling-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="18.2.1" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#piping"><i class="fa fa-check"></i><b>18.2.1</b> The pipe operator: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="18.2.2" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#filter"><i class="fa fa-check"></i><b>18.2.2</b> <code>filter</code> rows</a></li>
<li class="chapter" data-level="18.2.3" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#mutate"><i class="fa fa-check"></i><b>18.2.3</b> <code>mutate</code> existing variables</a></li>
<li class="chapter" data-level="18.2.4" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#arrange"><i class="fa fa-check"></i><b>18.2.4</b> <code>arrange</code> and sort rows</a></li>
<li class="chapter" data-level="18.2.5" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#select"><i class="fa fa-check"></i><b>18.2.5</b> <code>select</code> variables</a></li>
<li class="chapter" data-level="18.2.6" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#rename"><i class="fa fa-check"></i><b>18.2.6</b> <code>rename</code> variables</a></li>
<li class="chapter" data-level="18.2.7" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#top_n-values-of-a-variable"><i class="fa fa-check"></i><b>18.2.7</b> <code>top_n</code> values of a variable</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#tidying-data"><i class="fa fa-check"></i><b>18.3</b> Tidying Data</a>
<ul>
<li class="chapter" data-level="" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#tidy-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="18.3.1" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#csv"><i class="fa fa-check"></i><b>18.3.1</b> Importing data</a></li>
<li class="chapter" data-level="18.3.2" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#tidy-data-ex"><i class="fa fa-check"></i><b>18.3.2</b> “Tidy” data</a></li>
<li class="chapter" data-level="18.3.3" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#tidy-definition"><i class="fa fa-check"></i><b>18.3.3</b> Definition of “tidy” data</a></li>
<li class="chapter" data-level="18.3.4" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#converting-to-tidy-data"><i class="fa fa-check"></i><b>18.3.4</b> Converting to “tidy” data</a></li>
<li class="chapter" data-level="18.3.5" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#case-study-tidy"><i class="fa fa-check"></i><b>18.3.5</b> Case study: Democracy in Guatemala</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#tidyverse-package"><i class="fa fa-check"></i><b>18.4</b> <code>tidyverse</code> package</a></li>
<li class="chapter" data-level="18.5" data-path="m6a-wrangling-and-tidying-data.html"><a href="m6a-wrangling-and-tidying-data.html#references-8"><i class="fa fa-check"></i><b>18.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="m6c-practice-wrangling-and-tidying-your-own-data.html"><a href="m6c-practice-wrangling-and-tidying-your-own-data.html"><i class="fa fa-check"></i><b>19</b> M6C: Practice Wrangling and Tidying Your Own Data</a></li>
<li class="chapter" data-level="20" data-path="m7u-subjectivity-in-data-visualization.html"><a href="m7u-subjectivity-in-data-visualization.html"><i class="fa fa-check"></i><b>20</b> M7U: Subjectivity in Data Visualization</a>
<ul>
<li class="chapter" data-level="20.1" data-path="m7u-subjectivity-in-data-visualization.html"><a href="m7u-subjectivity-in-data-visualization.html#introduction-14"><i class="fa fa-check"></i><b>20.1</b> Introduction</a></li>
<li class="chapter" data-level="20.2" data-path="m7u-subjectivity-in-data-visualization.html"><a href="m7u-subjectivity-in-data-visualization.html#persuasion-and-the-god-trick"><i class="fa fa-check"></i><b>20.2</b> Persuasion and the God Trick</a></li>
<li class="chapter" data-level="20.3" data-path="m7u-subjectivity-in-data-visualization.html"><a href="m7u-subjectivity-in-data-visualization.html#visualization-as-rhetoric"><i class="fa fa-check"></i><b>20.3</b> Visualization as Rhetoric</a></li>
<li class="chapter" data-level="20.4" data-path="m7u-subjectivity-in-data-visualization.html"><a href="m7u-subjectivity-in-data-visualization.html#editorial-choices-in-visualization"><i class="fa fa-check"></i><b>20.4</b> Editorial Choices in Visualization</a></li>
<li class="chapter" data-level="20.5" data-path="m7u-subjectivity-in-data-visualization.html"><a href="m7u-subjectivity-in-data-visualization.html#visualization-as-ideological-work"><i class="fa fa-check"></i><b>20.5</b> Visualization as Ideological Work</a></li>
<li class="chapter" data-level="20.6" data-path="m7u-subjectivity-in-data-visualization.html"><a href="m7u-subjectivity-in-data-visualization.html#feminist-objectivity"><i class="fa fa-check"></i><b>20.6</b> Feminist Objectivity</a></li>
<li class="chapter" data-level="20.7" data-path="m7u-subjectivity-in-data-visualization.html"><a href="m7u-subjectivity-in-data-visualization.html#data-visceralization"><i class="fa fa-check"></i><b>20.7</b> Data Visceralization</a></li>
<li class="chapter" data-level="20.8" data-path="m7u-subjectivity-in-data-visualization.html"><a href="m7u-subjectivity-in-data-visualization.html#conclusion-7"><i class="fa fa-check"></i><b>20.8</b> Conclusion</a></li>
<li class="chapter" data-level="20.9" data-path="m7u-subjectivity-in-data-visualization.html"><a href="m7u-subjectivity-in-data-visualization.html#references-9"><i class="fa fa-check"></i><b>20.9</b> References</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="viz.html"><a href="viz.html"><i class="fa fa-check"></i><b>21</b> M7A: Data Visualization</a>
<ul>
<li class="chapter" data-level="21.1" data-path="viz.html"><a href="viz.html#introduction-15"><i class="fa fa-check"></i><b>21.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="viz.html"><a href="viz.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="viz.html"><a href="viz.html#grammarofgraphics"><i class="fa fa-check"></i><b>21.2</b> The grammar of graphics</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="viz.html"><a href="viz.html#components-of-the-grammar"><i class="fa fa-check"></i><b>21.2.1</b> Components of the grammar</a></li>
<li class="chapter" data-level="21.2.2" data-path="viz.html"><a href="viz.html#gapminder"><i class="fa fa-check"></i><b>21.2.2</b> Gapminder data</a></li>
<li class="chapter" data-level="21.2.3" data-path="viz.html"><a href="viz.html#other-components"><i class="fa fa-check"></i><b>21.2.3</b> Other components</a></li>
<li class="chapter" data-level="21.2.4" data-path="viz.html"><a href="viz.html#ggplot2-package"><i class="fa fa-check"></i><b>21.2.4</b> ggplot2 package</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="viz.html"><a href="viz.html#FiveNG"><i class="fa fa-check"></i><b>21.3</b> Five named graphs - the 5NG</a></li>
<li class="chapter" data-level="21.4" data-path="viz.html"><a href="viz.html#scatterplots"><i class="fa fa-check"></i><b>21.4</b> 5NG#1: Scatterplots</a>
<ul>
<li class="chapter" data-level="21.4.1" data-path="viz.html"><a href="viz.html#geompoint"><i class="fa fa-check"></i><b>21.4.1</b> Scatterplots via <code>geom_point</code></a></li>
<li class="chapter" data-level="21.4.2" data-path="viz.html"><a href="viz.html#overplotting"><i class="fa fa-check"></i><b>21.4.2</b> Overplotting</a></li>
<li class="chapter" data-level="21.4.3" data-path="viz.html"><a href="viz.html#summary"><i class="fa fa-check"></i><b>21.4.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="21.5" data-path="viz.html"><a href="viz.html#linegraphs"><i class="fa fa-check"></i><b>21.5</b> 5NG#2: Linegraphs</a>
<ul>
<li class="chapter" data-level="21.5.1" data-path="viz.html"><a href="viz.html#geomline"><i class="fa fa-check"></i><b>21.5.1</b> Linegraphs via <code>geom_line</code></a></li>
<li class="chapter" data-level="21.5.2" data-path="viz.html"><a href="viz.html#summary-1"><i class="fa fa-check"></i><b>21.5.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="21.6" data-path="viz.html"><a href="viz.html#histograms"><i class="fa fa-check"></i><b>21.6</b> 5NG#3: Histograms</a>
<ul>
<li class="chapter" data-level="21.6.1" data-path="viz.html"><a href="viz.html#geomhistogram"><i class="fa fa-check"></i><b>21.6.1</b> Histograms via <code>geom_histogram</code></a></li>
<li class="chapter" data-level="21.6.2" data-path="viz.html"><a href="viz.html#adjustbins"><i class="fa fa-check"></i><b>21.6.2</b> Adjusting the bins</a></li>
<li class="chapter" data-level="21.6.3" data-path="viz.html"><a href="viz.html#summary-2"><i class="fa fa-check"></i><b>21.6.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="21.7" data-path="viz.html"><a href="viz.html#facets"><i class="fa fa-check"></i><b>21.7</b> Facets</a></li>
<li class="chapter" data-level="21.8" data-path="viz.html"><a href="viz.html#boxplots"><i class="fa fa-check"></i><b>21.8</b> 5NG#4: Boxplots</a>
<ul>
<li class="chapter" data-level="21.8.1" data-path="viz.html"><a href="viz.html#geomboxplot"><i class="fa fa-check"></i><b>21.8.1</b> Boxplots via <code>geom_boxplot</code></a></li>
<li class="chapter" data-level="21.8.2" data-path="viz.html"><a href="viz.html#summary-3"><i class="fa fa-check"></i><b>21.8.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="21.9" data-path="viz.html"><a href="viz.html#geombar"><i class="fa fa-check"></i><b>21.9</b> 5NG#5: Barplots</a>
<ul>
<li class="chapter" data-level="21.9.1" data-path="viz.html"><a href="viz.html#barplots-via-geom_bar-or-geom_col"><i class="fa fa-check"></i><b>21.9.1</b> Barplots via <code>geom_bar</code> or <code>geom_col</code></a></li>
<li class="chapter" data-level="21.9.2" data-path="viz.html"><a href="viz.html#avoid-pie-charts"><i class="fa fa-check"></i><b>21.9.2</b> Avoid pie charts!</a></li>
<li class="chapter" data-level="21.9.3" data-path="viz.html"><a href="viz.html#two-categ-barplot"><i class="fa fa-check"></i><b>21.9.3</b> Two categorical variables</a></li>
<li class="chapter" data-level="21.9.4" data-path="viz.html"><a href="viz.html#summary-4"><i class="fa fa-check"></i><b>21.9.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="21.10" data-path="viz.html"><a href="viz.html#data-vis-conclusion"><i class="fa fa-check"></i><b>21.10</b> Conclusion</a>
<ul>
<li class="chapter" data-level="21.10.1" data-path="viz.html"><a href="viz.html#summary-table"><i class="fa fa-check"></i><b>21.10.1</b> Summary table</a></li>
<li class="chapter" data-level="21.10.2" data-path="viz.html"><a href="viz.html#function-argument-specification"><i class="fa fa-check"></i><b>21.10.2</b> Function argument specification</a></li>
<li class="chapter" data-level="21.10.3" data-path="viz.html"><a href="viz.html#additional-resources"><i class="fa fa-check"></i><b>21.10.3</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="21.11" data-path="viz.html"><a href="viz.html#references-10"><i class="fa fa-check"></i><b>21.11</b> References</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="m7c-practice-visualizing-your-own-data.html"><a href="m7c-practice-visualizing-your-own-data.html"><i class="fa fa-check"></i><b>22</b> M7C: Practice Visualizing Your Own Data</a></li>
<li class="chapter" data-level="23" data-path="m8u-statistics-and-scientific-racism.html"><a href="m8u-statistics-and-scientific-racism.html"><i class="fa fa-check"></i><b>23</b> M8U: Statistics and Scientific Racism</a>
<ul>
<li class="chapter" data-level="23.1" data-path="m8u-statistics-and-scientific-racism.html"><a href="m8u-statistics-and-scientific-racism.html#introduction-16"><i class="fa fa-check"></i><b>23.1</b> Introduction</a></li>
<li class="chapter" data-level="23.2" data-path="m8u-statistics-and-scientific-racism.html"><a href="m8u-statistics-and-scientific-racism.html#the-origins-of-statistics"><i class="fa fa-check"></i><b>23.2</b> The Origins of Statistics</a></li>
<li class="chapter" data-level="23.3" data-path="m8u-statistics-and-scientific-racism.html"><a href="m8u-statistics-and-scientific-racism.html#the-importance-of-statistical-humility"><i class="fa fa-check"></i><b>23.3</b> The Importance of Statistical Humility</a></li>
<li class="chapter" data-level="23.4" data-path="m8u-statistics-and-scientific-racism.html"><a href="m8u-statistics-and-scientific-racism.html#eugenics-a-failure-of-statistical-humility"><i class="fa fa-check"></i><b>23.4</b> Eugenics: A Failure of Statistical Humility</a></li>
<li class="chapter" data-level="23.5" data-path="m8u-statistics-and-scientific-racism.html"><a href="m8u-statistics-and-scientific-racism.html#the-continuing-legacy-of-eugenics-and-scientific-racism"><i class="fa fa-check"></i><b>23.5</b> The Continuing Legacy of Eugenics and Scientific Racism</a></li>
<li class="chapter" data-level="23.6" data-path="m8u-statistics-and-scientific-racism.html"><a href="m8u-statistics-and-scientific-racism.html#conclusion-8"><i class="fa fa-check"></i><b>23.6</b> Conclusion</a></li>
<li class="chapter" data-level="23.7" data-path="m8u-statistics-and-scientific-racism.html"><a href="m8u-statistics-and-scientific-racism.html#references-11"><i class="fa fa-check"></i><b>23.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="m8a-descriptive-statistics.html"><a href="m8a-descriptive-statistics.html"><i class="fa fa-check"></i><b>24</b> M8A: Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="24.1" data-path="m8a-descriptive-statistics.html"><a href="m8a-descriptive-statistics.html#introduction-17"><i class="fa fa-check"></i><b>24.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="m8a-descriptive-statistics.html"><a href="m8a-descriptive-statistics.html#wrangling-packages-2"><i class="fa fa-check"></i>Needed packages</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="m8a-descriptive-statistics.html"><a href="m8a-descriptive-statistics.html#summarize"><i class="fa fa-check"></i><b>24.2</b> <code>summarize</code> variables</a>
<ul>
<li class="chapter" data-level="24.2.1" data-path="m8a-descriptive-statistics.html"><a href="m8a-descriptive-statistics.html#mean"><i class="fa fa-check"></i><b>24.2.1</b> Mean</a></li>
<li class="chapter" data-level="24.2.2" data-path="m8a-descriptive-statistics.html"><a href="m8a-descriptive-statistics.html#standard-deviation"><i class="fa fa-check"></i><b>24.2.2</b> Standard Deviation</a></li>
<li class="chapter" data-level="24.2.3" data-path="m8a-descriptive-statistics.html"><a href="m8a-descriptive-statistics.html#calculating-mean-with-mean-and-standard-deviation-with-sd"><i class="fa fa-check"></i><b>24.2.3</b> Calculating Mean with <code>mean()</code> and Standard Deviation with <code>sd()</code></a></li>
<li class="chapter" data-level="24.2.4" data-path="m8a-descriptive-statistics.html"><a href="m8a-descriptive-statistics.html#percentiles-quartiles-and-iqr"><i class="fa fa-check"></i><b>24.2.4</b> Percentiles, Quartiles and <code>IQR()</code></a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="m8a-descriptive-statistics.html"><a href="m8a-descriptive-statistics.html#groupby"><i class="fa fa-check"></i><b>24.3</b> <code>group_by</code> rows</a>
<ul>
<li class="chapter" data-level="24.3.1" data-path="m8a-descriptive-statistics.html"><a href="m8a-descriptive-statistics.html#grouping-by-more-than-one-variable"><i class="fa fa-check"></i><b>24.3.1</b> Grouping by more than one variable</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="m8c-calculate-descriptive-statistics-for-your-own-data.html"><a href="m8c-calculate-descriptive-statistics-for-your-own-data.html"><i class="fa fa-check"></i><b>25</b> M8C: Calculate Descriptive Statistics for Your Own Data</a></li>
<li class="chapter" data-level="26" data-path="m9u-linear-regression.html"><a href="m9u-linear-regression.html"><i class="fa fa-check"></i><b>26</b> M9U: Linear Regression</a>
<ul>
<li class="chapter" data-level="26.1" data-path="m9u-linear-regression.html"><a href="m9u-linear-regression.html#introduction-18"><i class="fa fa-check"></i><b>26.1</b> Introduction</a></li>
<li class="chapter" data-level="26.2" data-path="m9u-linear-regression.html"><a href="m9u-linear-regression.html#linear-equations"><i class="fa fa-check"></i><b>26.2</b> Linear Equations</a></li>
<li class="chapter" data-level="26.3" data-path="m9u-linear-regression.html"><a href="m9u-linear-regression.html#linear-relationships-and-scatterplots"><i class="fa fa-check"></i><b>26.3</b> Linear Relationships and Scatterplots</a></li>
<li class="chapter" data-level="26.4" data-path="m9u-linear-regression.html"><a href="m9u-linear-regression.html#the-regression-equation"><i class="fa fa-check"></i><b>26.4</b> The Regression Equation</a></li>
<li class="chapter" data-level="26.5" data-path="m9u-linear-regression.html"><a href="m9u-linear-regression.html#least-squares-criteria-for-best-fit"><i class="fa fa-check"></i><b>26.5</b> Least Squares Criteria for Best Fit</a></li>
<li class="chapter" data-level="26.6" data-path="m9u-linear-regression.html"><a href="m9u-linear-regression.html#correlation-coefficients"><i class="fa fa-check"></i><b>26.6</b> Correlation Coefficients</a></li>
<li class="chapter" data-level="26.7" data-path="m9u-linear-regression.html"><a href="m9u-linear-regression.html#conclusion-9"><i class="fa fa-check"></i><b>26.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>27</b> M9A: Basic Regression</a>
<ul>
<li class="chapter" data-level="" data-path="regression.html"><a href="regression.html#reg-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="27.1" data-path="regression.html"><a href="regression.html#model1"><i class="fa fa-check"></i><b>27.1</b> One numerical explanatory variable</a>
<ul>
<li class="chapter" data-level="27.1.1" data-path="regression.html"><a href="regression.html#model1EDA"><i class="fa fa-check"></i><b>27.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="27.1.2" data-path="regression.html"><a href="regression.html#model1table"><i class="fa fa-check"></i><b>27.1.2</b> Simple linear regression</a></li>
<li class="chapter" data-level="27.1.3" data-path="regression.html"><a href="regression.html#model1points"><i class="fa fa-check"></i><b>27.1.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="27.2" data-path="regression.html"><a href="regression.html#model2"><i class="fa fa-check"></i><b>27.2</b> One categorical explanatory variable</a>
<ul>
<li class="chapter" data-level="27.2.1" data-path="regression.html"><a href="regression.html#model2EDA"><i class="fa fa-check"></i><b>27.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="27.2.2" data-path="regression.html"><a href="regression.html#model2table"><i class="fa fa-check"></i><b>27.2.2</b> Linear regression</a></li>
<li class="chapter" data-level="27.2.3" data-path="regression.html"><a href="regression.html#model2points"><i class="fa fa-check"></i><b>27.2.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="27.3" data-path="regression.html"><a href="regression.html#reg-related-topics"><i class="fa fa-check"></i><b>27.3</b> Related topics</a>
<ul>
<li class="chapter" data-level="27.3.1" data-path="regression.html"><a href="regression.html#correlation-is-not-causation"><i class="fa fa-check"></i><b>27.3.1</b> Correlation is not necessarily causation</a></li>
<li class="chapter" data-level="27.3.2" data-path="regression.html"><a href="regression.html#leastsquares"><i class="fa fa-check"></i><b>27.3.2</b> Best-fitting line</a></li>
<li class="chapter" data-level="27.3.3" data-path="regression.html"><a href="regression.html#underthehood"><i class="fa fa-check"></i><b>27.3.3</b> <code>get_regression_x()</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="27.4" data-path="regression.html"><a href="regression.html#reg-conclusion"><i class="fa fa-check"></i><b>27.4</b> Conclusion</a>
<ul>
<li class="chapter" data-level="27.4.1" data-path="regression.html"><a href="regression.html#additional-resources-basic-regression"><i class="fa fa-check"></i><b>27.4.1</b> Additional resources</a></li>
<li class="chapter" data-level="27.4.2" data-path="regression.html"><a href="regression.html#whats-to-come"><i class="fa fa-check"></i><b>27.4.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="28" data-path="m9c-perform-a-basic-regression-with-your-own-data.html"><a href="m9c-perform-a-basic-regression-with-your-own-data.html"><i class="fa fa-check"></i><b>28</b> M9C: Perform a Basic Regression With Your Own Data</a></li>
<li class="chapter" data-level="29" data-path="module-10-understanding.html"><a href="module-10-understanding.html"><i class="fa fa-check"></i><b>29</b> Module 10 Understanding</a></li>
<li class="chapter" data-level="30" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html"><i class="fa fa-check"></i><b>30</b> M10A: Multiple Regression {#multiple-regression}}</a>
<ul>
<li class="chapter" data-level="" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#mult-reg-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="30.1" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#model4"><i class="fa fa-check"></i><b>30.1</b> One numerical and one categorical explanatory variable</a>
<ul>
<li class="chapter" data-level="30.1.1" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#model4EDA"><i class="fa fa-check"></i><b>30.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="30.1.2" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#model4interactiontable"><i class="fa fa-check"></i><b>30.1.2</b> Interaction model</a></li>
<li class="chapter" data-level="30.1.3" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#model4table"><i class="fa fa-check"></i><b>30.1.3</b> Parallel slopes model</a></li>
<li class="chapter" data-level="30.1.4" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#model4points"><i class="fa fa-check"></i><b>30.1.4</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="30.2" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#model3"><i class="fa fa-check"></i><b>30.2</b> Two numerical explanatory variables</a>
<ul>
<li class="chapter" data-level="30.2.1" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#model3EDA"><i class="fa fa-check"></i><b>30.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="30.2.2" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#model3table"><i class="fa fa-check"></i><b>30.2.2</b> Regression plane</a></li>
<li class="chapter" data-level="30.2.3" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#model3points"><i class="fa fa-check"></i><b>30.2.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="30.3" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#mult-reg-related-topics"><i class="fa fa-check"></i><b>30.3</b> Related topics</a>
<ul>
<li class="chapter" data-level="30.3.1" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#model-selection"><i class="fa fa-check"></i><b>30.3.1</b> Model selection using visualizations</a></li>
<li class="chapter" data-level="30.3.2" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#rsquared"><i class="fa fa-check"></i><b>30.3.2</b> Model selection using R-squared</a></li>
<li class="chapter" data-level="30.3.3" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#correlationcoefficient2"><i class="fa fa-check"></i><b>30.3.3</b> Correlation coefficient</a></li>
<li class="chapter" data-level="30.3.4" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#simpsonsparadox"><i class="fa fa-check"></i><b>30.3.4</b> Simpson’s Paradox</a></li>
</ul></li>
<li class="chapter" data-level="30.4" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#mult-reg-conclusion"><i class="fa fa-check"></i><b>30.4</b> Conclusion</a>
<ul>
<li class="chapter" data-level="30.4.1" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#additional-resources-1"><i class="fa fa-check"></i><b>30.4.1</b> Additional resources</a></li>
<li class="chapter" data-level="30.4.2" data-path="m10a-multiple-regression-multiple-regression.html"><a href="m10a-multiple-regression-multiple-regression.html#whats-to-come-1"><i class="fa fa-check"></i><b>30.4.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="31" data-path="m10c-perform-a-multiple-regression-with-your-own-data.html"><a href="m10c-perform-a-multiple-regression-with-your-own-data.html"><i class="fa fa-check"></i><b>31</b> M10C: Perform a Multiple Regression With Your Own Data</a></li>
<li class="chapter" data-level="32" data-path="module-11-understanding.html"><a href="module-11-understanding.html"><i class="fa fa-check"></i><b>32</b> Module 11 Understanding</a></li>
<li class="chapter" data-level="33" data-path="m11a-sampling.html"><a href="m11a-sampling.html"><i class="fa fa-check"></i><b>33</b> M11A: Sampling</a></li>
<li class="chapter" data-level="" data-path=""><a href="#part-statistical-inference-with-infer"><i class="fa fa-check"></i>(PART) Statistical Inference with infer</a>
<ul>
<li class="chapter" data-level="" data-path="m11a-sampling.html"><a href="m11a-sampling.html#sampling-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="33.1" data-path="m11a-sampling.html"><a href="m11a-sampling.html#sampling-activity"><i class="fa fa-check"></i><b>33.1</b> Sampling bowl activity</a>
<ul>
<li class="chapter" data-level="33.1.1" data-path="m11a-sampling.html"><a href="m11a-sampling.html#what-proportion-of-this-bowls-balls-are-red"><i class="fa fa-check"></i><b>33.1.1</b> What proportion of this bowl’s balls are red?</a></li>
<li class="chapter" data-level="33.1.2" data-path="m11a-sampling.html"><a href="m11a-sampling.html#using-the-shovel-once"><i class="fa fa-check"></i><b>33.1.2</b> Using the shovel once</a></li>
<li class="chapter" data-level="33.1.3" data-path="m11a-sampling.html"><a href="m11a-sampling.html#student-shovels"><i class="fa fa-check"></i><b>33.1.3</b> Using the shovel 33 times</a></li>
<li class="chapter" data-level="33.1.4" data-path="m11a-sampling.html"><a href="m11a-sampling.html#sampling-what-did-we-just-do"><i class="fa fa-check"></i><b>33.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="33.2" data-path="m11a-sampling.html"><a href="m11a-sampling.html#sampling-simulation"><i class="fa fa-check"></i><b>33.2</b> Virtual sampling</a>
<ul>
<li class="chapter" data-level="33.2.1" data-path="m11a-sampling.html"><a href="m11a-sampling.html#using-the-virtual-shovel-once"><i class="fa fa-check"></i><b>33.2.1</b> Using the virtual shovel once</a></li>
<li class="chapter" data-level="33.2.2" data-path="m11a-sampling.html"><a href="m11a-sampling.html#using-the-virtual-shovel-33-times"><i class="fa fa-check"></i><b>33.2.2</b> Using the virtual shovel 33 times</a></li>
<li class="chapter" data-level="33.2.3" data-path="m11a-sampling.html"><a href="m11a-sampling.html#shovel-1000-times"><i class="fa fa-check"></i><b>33.2.3</b> Using the virtual shovel 1000 times</a></li>
<li class="chapter" data-level="33.2.4" data-path="m11a-sampling.html"><a href="m11a-sampling.html#different-shovels"><i class="fa fa-check"></i><b>33.2.4</b> Using different shovels</a></li>
</ul></li>
<li class="chapter" data-level="33.3" data-path="m11a-sampling.html"><a href="m11a-sampling.html#sampling-framework"><i class="fa fa-check"></i><b>33.3</b> Sampling framework</a>
<ul>
<li class="chapter" data-level="33.3.1" data-path="m11a-sampling.html"><a href="m11a-sampling.html#terminology-and-notation"><i class="fa fa-check"></i><b>33.3.1</b> Terminology and notation</a></li>
<li class="chapter" data-level="33.3.2" data-path="m11a-sampling.html"><a href="m11a-sampling.html#sampling-definitions"><i class="fa fa-check"></i><b>33.3.2</b> Statistical definitions</a></li>
<li class="chapter" data-level="33.3.3" data-path="m11a-sampling.html"><a href="m11a-sampling.html#moral-of-the-story"><i class="fa fa-check"></i><b>33.3.3</b> The moral of the story</a></li>
</ul></li>
<li class="chapter" data-level="33.4" data-path="m11a-sampling.html"><a href="m11a-sampling.html#sampling-case-study"><i class="fa fa-check"></i><b>33.4</b> Case study: Polls</a></li>
<li class="chapter" data-level="33.5" data-path="m11a-sampling.html"><a href="m11a-sampling.html#sampling-conclusion-central-limit-theorem"><i class="fa fa-check"></i><b>33.5</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="33.6" data-path="m11a-sampling.html"><a href="m11a-sampling.html#sampling-conclusion"><i class="fa fa-check"></i><b>33.6</b> Conclusion</a>
<ul>
<li class="chapter" data-level="33.6.1" data-path="m11a-sampling.html"><a href="m11a-sampling.html#sampling-conclusion-table"><i class="fa fa-check"></i><b>33.6.1</b> Sampling scenarios</a></li>
<li class="chapter" data-level="33.6.2" data-path="m11a-sampling.html"><a href="m11a-sampling.html#theory-se"><i class="fa fa-check"></i><b>33.6.2</b> Theory-based standard-errors</a></li>
<li class="chapter" data-level="33.6.3" data-path="m11a-sampling.html"><a href="m11a-sampling.html#additional-resources-2"><i class="fa fa-check"></i><b>33.6.3</b> Additional resources</a></li>
<li class="chapter" data-level="33.6.4" data-path="m11a-sampling.html"><a href="m11a-sampling.html#whats-to-come-2"><i class="fa fa-check"></i><b>33.6.4</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="34" data-path="m11c-explore-sampling-with-your-own.html"><a href="m11c-explore-sampling-with-your-own.html"><i class="fa fa-check"></i><b>34</b> M11C: Explore Sampling With Your Own</a></li>
<li class="chapter" data-level="35" data-path="module-12-understanding.html"><a href="module-12-understanding.html"><i class="fa fa-check"></i><b>35</b> Module 12 Understanding</a></li>
<li class="chapter" data-level="36" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html"><i class="fa fa-check"></i><b>36</b> M12A: Confidence Intervals</a>
<ul>
<li class="chapter" data-level="" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#CI-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="36.1" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#resampling-tactile"><i class="fa fa-check"></i><b>36.1</b> Pennies activity</a>
<ul>
<li class="chapter" data-level="36.1.1" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#what-is-the-average-year-on-us-pennies-in-2019"><i class="fa fa-check"></i><b>36.1.1</b> What is the average year on US pennies in 2019?</a></li>
<li class="chapter" data-level="36.1.2" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#resampling-once"><i class="fa fa-check"></i><b>36.1.2</b> Resampling once</a></li>
<li class="chapter" data-level="36.1.3" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#student-resamples"><i class="fa fa-check"></i><b>36.1.3</b> Resampling 35 times</a></li>
<li class="chapter" data-level="36.1.4" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#ci-what-did-we-just-do"><i class="fa fa-check"></i><b>36.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="36.2" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#resampling-simulation"><i class="fa fa-check"></i><b>36.2</b> Computer simulation of resampling</a>
<ul>
<li class="chapter" data-level="36.2.1" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#virtually-resampling-once"><i class="fa fa-check"></i><b>36.2.1</b> Virtually resampling once</a></li>
<li class="chapter" data-level="36.2.2" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#bootstrap-35-replicates"><i class="fa fa-check"></i><b>36.2.2</b> Virtually resampling 35 times</a></li>
<li class="chapter" data-level="36.2.3" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#bootstrap-1000-replicates"><i class="fa fa-check"></i><b>36.2.3</b> Virtually resampling 1000 times</a></li>
</ul></li>
<li class="chapter" data-level="36.3" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#ci-build-up"><i class="fa fa-check"></i><b>36.3</b> Understanding confidence intervals</a>
<ul>
<li class="chapter" data-level="36.3.1" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#percentile-method"><i class="fa fa-check"></i><b>36.3.1</b> Percentile method</a></li>
<li class="chapter" data-level="36.3.2" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#se-method"><i class="fa fa-check"></i><b>36.3.2</b> Standard error method</a></li>
</ul></li>
<li class="chapter" data-level="36.4" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#bootstrap-process"><i class="fa fa-check"></i><b>36.4</b> Constructing confidence intervals</a>
<ul>
<li class="chapter" data-level="36.4.1" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#original-workflow"><i class="fa fa-check"></i><b>36.4.1</b> Original workflow</a></li>
<li class="chapter" data-level="36.4.2" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#infer-workflow"><i class="fa fa-check"></i><b>36.4.2</b> <code>infer</code> package workflow</a></li>
<li class="chapter" data-level="36.4.3" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#percentile-method-infer"><i class="fa fa-check"></i><b>36.4.3</b> Percentile method with <code>infer</code></a></li>
<li class="chapter" data-level="36.4.4" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#infer-se"><i class="fa fa-check"></i><b>36.4.4</b> Standard error method with <code>infer</code></a></li>
</ul></li>
<li class="chapter" data-level="36.5" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#one-prop-ci"><i class="fa fa-check"></i><b>36.5</b> Interpreting confidence intervals</a>
<ul>
<li class="chapter" data-level="36.5.1" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#ilyas-yohan"><i class="fa fa-check"></i><b>36.5.1</b> Did the net capture the fish?</a></li>
<li class="chapter" data-level="36.5.2" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#shorthand"><i class="fa fa-check"></i><b>36.5.2</b> Precise and shorthand interpretation</a></li>
<li class="chapter" data-level="36.5.3" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#ci-width"><i class="fa fa-check"></i><b>36.5.3</b> Width of confidence intervals</a></li>
</ul></li>
<li class="chapter" data-level="36.6" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#case-study-two-prop-ci"><i class="fa fa-check"></i><b>36.6</b> Case study: Is yawning contagious?</a>
<ul>
<li class="chapter" data-level="36.6.1" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#mythbusters-study-data"><i class="fa fa-check"></i><b>36.6.1</b> <em>Mythbusters</em> study data</a></li>
<li class="chapter" data-level="36.6.2" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#sampling-scenario"><i class="fa fa-check"></i><b>36.6.2</b> Sampling scenario</a></li>
<li class="chapter" data-level="36.6.3" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#ci-build"><i class="fa fa-check"></i><b>36.6.3</b> Constructing the confidence interval</a></li>
<li class="chapter" data-level="36.6.4" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#interpreting-the-confidence-interval"><i class="fa fa-check"></i><b>36.6.4</b> Interpreting the confidence interval</a></li>
</ul></li>
<li class="chapter" data-level="36.7" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#ci-conclusion"><i class="fa fa-check"></i><b>36.7</b> Conclusion</a>
<ul>
<li class="chapter" data-level="36.7.1" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#bootstrap-vs-sampling"><i class="fa fa-check"></i><b>36.7.1</b> Comparing bootstrap and sampling distributions</a></li>
<li class="chapter" data-level="36.7.2" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#theory-ci"><i class="fa fa-check"></i><b>36.7.2</b> Theory-based confidence intervals</a></li>
<li class="chapter" data-level="36.7.3" data-path="m12a-confidence-intervals.html"><a href="m12a-confidence-intervals.html#whats-to-come-3"><i class="fa fa-check"></i><b>36.7.3</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="37" data-path="m12c-explore-confidence-intervals-with-your-own-data.html"><a href="m12c-explore-confidence-intervals-with-your-own-data.html"><i class="fa fa-check"></i><b>37</b> M12C: Explore Confidence Intervals With Your Own Data</a></li>
<li class="chapter" data-level="38" data-path="module-13-understanding.html"><a href="module-13-understanding.html"><i class="fa fa-check"></i><b>38</b> Module 13 Understanding</a></li>
<li class="chapter" data-level="39" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html"><i class="fa fa-check"></i><b>39</b> M13A: Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#nhst-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="39.1" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#ht-activity"><i class="fa fa-check"></i><b>39.1</b> Promotions activity</a>
<ul>
<li class="chapter" data-level="39.1.1" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#does-gender-affect-promotions-at-a-bank"><i class="fa fa-check"></i><b>39.1.1</b> Does gender affect promotions at a bank?</a></li>
<li class="chapter" data-level="39.1.2" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#shuffling-once"><i class="fa fa-check"></i><b>39.1.2</b> Shuffling once</a></li>
<li class="chapter" data-level="39.1.3" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#shuffling-16-times"><i class="fa fa-check"></i><b>39.1.3</b> Shuffling 16 times</a></li>
<li class="chapter" data-level="39.1.4" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#ht-what-did-we-just-do"><i class="fa fa-check"></i><b>39.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="39.2" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#understanding-ht"><i class="fa fa-check"></i><b>39.2</b> Understanding hypothesis tests</a></li>
<li class="chapter" data-level="39.3" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#ht-infer"><i class="fa fa-check"></i><b>39.3</b> Conducting hypothesis tests</a>
<ul>
<li class="chapter" data-level="39.3.1" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#infer-workflow-ht"><i class="fa fa-check"></i><b>39.3.1</b> <code>infer</code> package workflow</a></li>
<li class="chapter" data-level="39.3.2" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#comparing-infer-workflows"><i class="fa fa-check"></i><b>39.3.2</b> Comparison with confidence intervals</a></li>
<li class="chapter" data-level="39.3.3" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#only-one-test"><i class="fa fa-check"></i><b>39.3.3</b> “There is only one test”</a></li>
</ul></li>
<li class="chapter" data-level="39.4" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#ht-interpretation"><i class="fa fa-check"></i><b>39.4</b> Interpreting hypothesis tests</a>
<ul>
<li class="chapter" data-level="39.4.1" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#trial"><i class="fa fa-check"></i><b>39.4.1</b> Two possible outcomes</a></li>
<li class="chapter" data-level="39.4.2" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#types-of-errors"><i class="fa fa-check"></i><b>39.4.2</b> Types of errors</a></li>
<li class="chapter" data-level="39.4.3" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#choosing-alpha"><i class="fa fa-check"></i><b>39.4.3</b> How do we choose alpha?</a></li>
</ul></li>
<li class="chapter" data-level="39.5" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#ht-case-study"><i class="fa fa-check"></i><b>39.5</b> Case study: Are action or romance movies rated higher?</a>
<ul>
<li class="chapter" data-level="39.5.1" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#imdb-data"><i class="fa fa-check"></i><b>39.5.1</b> IMDb ratings data</a></li>
<li class="chapter" data-level="39.5.2" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#sampling-scenario-1"><i class="fa fa-check"></i><b>39.5.2</b> Sampling scenario</a></li>
<li class="chapter" data-level="39.5.3" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#conducting-the-hypothesis-test"><i class="fa fa-check"></i><b>39.5.3</b> Conducting the hypothesis test</a></li>
</ul></li>
<li class="chapter" data-level="39.6" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#nhst-conclusion"><i class="fa fa-check"></i><b>39.6</b> Conclusion</a>
<ul>
<li class="chapter" data-level="39.6.1" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#theory-hypo"><i class="fa fa-check"></i><b>39.6.1</b> Theory-based hypothesis tests</a></li>
<li class="chapter" data-level="39.6.2" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#when-inference-is-not-needed"><i class="fa fa-check"></i><b>39.6.2</b> When inference is not needed</a></li>
<li class="chapter" data-level="39.6.3" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#problems-with-p-values"><i class="fa fa-check"></i><b>39.6.3</b> Problems with p-values</a></li>
<li class="chapter" data-level="39.6.4" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#additional-resources-3"><i class="fa fa-check"></i><b>39.6.4</b> Additional resources</a></li>
<li class="chapter" data-level="39.6.5" data-path="m13a-hypothesis-testing.html"><a href="m13a-hypothesis-testing.html#whats-to-come-4"><i class="fa fa-check"></i><b>39.6.5</b> What’s to come</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="40" data-path="m13c-explore-hypothesis-testing-with-your-own-data.html"><a href="m13c-explore-hypothesis-testing-with-your-own-data.html"><i class="fa fa-check"></i><b>40</b> M13C: Explore Hypothesis Testing With Your Own Data</a></li>
<li class="chapter" data-level="41" data-path="module-14-understanding.html"><a href="module-14-understanding.html"><i class="fa fa-check"></i><b>41</b> Module 14 Understanding</a></li>
<li class="chapter" data-level="42" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html"><i class="fa fa-check"></i><b>42</b> M14A: Inferential Regression</a>
<ul>
<li class="chapter" data-level="" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#inf-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="42.1" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#regression-refresher"><i class="fa fa-check"></i><b>42.1</b> Regression refresher</a>
<ul>
<li class="chapter" data-level="42.1.1" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#teaching-evaluations-analysis"><i class="fa fa-check"></i><b>42.1.1</b> Teaching evaluations analysis</a></li>
<li class="chapter" data-level="42.1.2" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#sampling-scenario-2"><i class="fa fa-check"></i><b>42.1.2</b> Sampling scenario</a></li>
</ul></li>
<li class="chapter" data-level="42.2" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#regression-interp"><i class="fa fa-check"></i><b>42.2</b> Interpreting regression tables</a>
<ul>
<li class="chapter" data-level="42.2.1" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#regression-se"><i class="fa fa-check"></i><b>42.2.1</b> Standard error</a></li>
<li class="chapter" data-level="42.2.2" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#regression-test-statistic"><i class="fa fa-check"></i><b>42.2.2</b> Test statistic</a></li>
<li class="chapter" data-level="42.2.3" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#p-value"><i class="fa fa-check"></i><b>42.2.3</b> p-value</a></li>
<li class="chapter" data-level="42.2.4" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#confidence-interval"><i class="fa fa-check"></i><b>42.2.4</b> Confidence interval</a></li>
<li class="chapter" data-level="42.2.5" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#regression-table-computation"><i class="fa fa-check"></i><b>42.2.5</b> How does R compute the table?</a></li>
</ul></li>
<li class="chapter" data-level="42.3" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#regression-conditions"><i class="fa fa-check"></i><b>42.3</b> Conditions for inference for regression</a>
<ul>
<li class="chapter" data-level="42.3.1" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#residuals-refresher"><i class="fa fa-check"></i><b>42.3.1</b> Residuals refresher</a></li>
<li class="chapter" data-level="42.3.2" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#linearity-of-relationship"><i class="fa fa-check"></i><b>42.3.2</b> Linearity of relationship</a></li>
<li class="chapter" data-level="42.3.3" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#independence-of-residuals"><i class="fa fa-check"></i><b>42.3.3</b> Independence of residuals</a></li>
<li class="chapter" data-level="42.3.4" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#normality-of-residuals"><i class="fa fa-check"></i><b>42.3.4</b> Normality of residuals</a></li>
<li class="chapter" data-level="42.3.5" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#equality-of-variance"><i class="fa fa-check"></i><b>42.3.5</b> Equality of variance</a></li>
<li class="chapter" data-level="42.3.6" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#what-is-the-conclusion"><i class="fa fa-check"></i><b>42.3.6</b> What’s the conclusion?</a></li>
</ul></li>
<li class="chapter" data-level="42.4" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#infer-regression"><i class="fa fa-check"></i><b>42.4</b> Simulation-based inference for regression</a>
<ul>
<li class="chapter" data-level="42.4.1" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#confidence-interval-for-slope"><i class="fa fa-check"></i><b>42.4.1</b> Confidence interval for slope</a></li>
<li class="chapter" data-level="42.4.2" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#hypothesis-test-for-slope"><i class="fa fa-check"></i><b>42.4.2</b> Hypothesis test for slope</a></li>
</ul></li>
<li class="chapter" data-level="42.5" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#inference-conclusion"><i class="fa fa-check"></i><b>42.5</b> Conclusion</a>
<ul>
<li class="chapter" data-level="42.5.1" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#theory-regression"><i class="fa fa-check"></i><b>42.5.1</b> Theory-based inference for regression</a></li>
<li class="chapter" data-level="42.5.2" data-path="m14a-inferential-regression.html"><a href="m14a-inferential-regression.html#summary-of-statistical-inference"><i class="fa fa-check"></i><b>42.5.2</b> Summary of statistical inference</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="43" data-path="m14c-perform-an-inferential-regression-with-your-own-data.html"><a href="m14c-perform-an-inferential-regression-with-your-own-data.html"><i class="fa fa-check"></i><b>43</b> M14C: Perform an Inferential Regression With Your Own Data</a></li>
<li class="chapter" data-level="44" data-path="m15u-reflect-on-your-understanding-of-data-science.html"><a href="m15u-reflect-on-your-understanding-of-data-science.html"><i class="fa fa-check"></i><b>44</b> M15U: Reflect on Your Understanding of Data Science</a></li>
<li class="chapter" data-level="45" data-path="m15a-reflect-on-your-application-of-data-science.html"><a href="m15a-reflect-on-your-application-of-data-science.html"><i class="fa fa-check"></i><b>45</b> M15A: Reflect on Your Application of Data Science</a></li>
<li class="chapter" data-level="46" data-path="m15c-reflect-on-your-connection-of-data-science.html"><a href="m15c-reflect-on-your-connection-of-data-science.html"><i class="fa fa-check"></i><b>46</b> M15C: Reflect on Your Connection of Data Science</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="m6a-wrangling-and-tidying-data" class="section level1 hasAnchor" number="18">
<h1><span class="header-section-number">18</span> M6A: Wrangling and Tidying Data<a href="m6a-wrangling-and-tidying-data.html#m6a-wrangling-and-tidying-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This content draws on material from <em><a href="https://moderndive.com/">Statistical Inference via Data Science: A ModernDive into R and the Tidyverse</a></em> by <a href="https://chester.rbind.io/">Chester Ismay</a> and <a href="https://rudeboybert.rbind.io/">Albert Y. Kim</a>, licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></p>
<p>Changes to the source material include addition of new material; light editing; rearranging, removing, and combining original material; adding and changing links; and adding first-person language from current author.</p>
<p>The resulting content is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>.</p>
<div id="introduction-13" class="section level2 hasAnchor" number="18.1">
<h2><span class="header-section-number">18.1</span> Introduction<a href="m6a-wrangling-and-tidying-data.html#introduction-13" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Two weeks ago, we learned about importing a dataset into R. However, sometimes the dataset that we’ve found isn’t precisely the data that we need. In this walkthrough, we’ll practice <em>wrangling</em> data and <em>tidying</em> data—two skills that help us transform the data we have into the data we want.</p>
</div>
<div id="wrangling" class="section level2 hasAnchor" number="18.2">
<h2><span class="header-section-number">18.2</span> Wrangling<a href="m6a-wrangling-and-tidying-data.html#wrangling" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, we’ll cover a series of functions from the <code>dplyr</code> package for data wrangling that will allow you to take a data frame and “wrangle” it (transform it) to suit your needs. Such functions include:</p>
<ol style="list-style-type: decimal">
<li><code>filter()</code> a data frame’s existing rows to only pick out a subset of them.</li>
<li><code>mutate()</code> its existing columns/variables to create new ones. For example, convert hourly temperature recordings from degrees Fahrenheit to degrees Celsius.</li>
<li><code>arrange()</code> its rows. For example, sort rows of a dataframe in ascending or descending order of a particular variable.</li>
<li><code>select()</code> a data frame’s existing columns to only pick out a subset of them.</li>
<li><code>rename()</code> the columns of a data frame</li>
<li>return the <code>top_n()</code> values of a particular variable</li>
</ol>
<p>Notice how I’ve used <code>computer_code</code> font to describe the actions we want to take on our data frames. This is because the <code>dplyr</code> package for data wrangling has intuitively verb-named functions that are easy to remember.</p>
<p>There is a further benefit to learning to use the <code>dplyr</code> package for data wrangling: its similarity to the database querying language <a href="https://en.wikipedia.org/wiki/SQL">SQL</a> (pronounced “sequel” or spelled out as “S”, “Q”, “L”). SQL (which stands for “Structured Query Language”) is used to manage large databases quickly and efficiently and is widely used by many institutions with a lot of data. While SQL is a topic left for a book or a course on database management, keep in mind that once you learn <code>dplyr</code>, you can learn SQL easily. We’ll talk more about their similarities in Subsection <a href="#normal-forms"><strong>??</strong></a>.</p>
<div id="wrangling-packages" class="section level3 unnumbered hasAnchor">
<h3>Needed packages<a href="m6a-wrangling-and-tidying-data.html#wrangling-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s load all the packages needed for our wrangling practice (this assumes you’ve already installed them). If needed, read Section <a href="getting-started.html#packages">6.4</a> for information on how to install and load R packages.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="m6a-wrangling-and-tidying-data.html#cb49-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb49-2"><a href="m6a-wrangling-and-tidying-data.html#cb49-2" tabindex="-1"></a><span class="fu">library</span>(nycflights13)</span></code></pre></div>
</div>
<div id="piping" class="section level3 hasAnchor" number="18.2.1">
<h3><span class="header-section-number">18.2.1</span> The pipe operator: <code>%&gt;%</code><a href="m6a-wrangling-and-tidying-data.html#piping" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before we start data wrangling, let’s first introduce a nifty tool that gets loaded with the <code>dplyr</code> package: the pipe operator <code>%&gt;%</code>. The pipe operator allows us to combine multiple operations in R into a single sequential <em>chain</em> of actions.</p>
<p>Let’s start with a hypothetical example. Say you would like to perform a hypothetical sequence of operations on a hypothetical data frame <code>x</code> using hypothetical functions <code>f()</code>, <code>g()</code>, and <code>h()</code>:</p>
<ol style="list-style-type: decimal">
<li>Take <code>x</code> <em>then</em></li>
<li>Use <code>x</code> as an input to a function <code>f()</code> <em>then</em></li>
<li>Use the output of <code>f(x)</code> as an input to a function <code>g()</code> <em>then</em></li>
<li>Use the output of <code>g(f(x))</code> as an input to a function <code>h()</code></li>
</ol>
<p>One way to achieve this sequence of operations is by using nesting parentheses as follows:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="m6a-wrangling-and-tidying-data.html#cb50-1" tabindex="-1"></a><span class="fu">h</span>(<span class="fu">g</span>(<span class="fu">f</span>(x)))</span></code></pre></div>
<p>This code isn’t so hard to read since we are applying only three functions: <code>f()</code>, then <code>g()</code>, then <code>h()</code>; furthermore, each of these functions has a short name—and only has one argument. However, you can imagine that this will get progressively harder to read as the number of functions applied in your sequence increases and the arguments in each function increase as well.</p>
<p>This is where the pipe operator <code>%&gt;%</code> comes in handy. <code>%&gt;%</code> takes the output of one function and then “pipes” it to be the input of the next function. With this in mind, one helpful trick is to read <code>%&gt;%</code> as “then” or “and then.” For example, you can obtain the same output as the hypothetical sequence of functions as follows:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="m6a-wrangling-and-tidying-data.html#cb51-1" tabindex="-1"></a>x <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="m6a-wrangling-and-tidying-data.html#cb51-2" tabindex="-1"></a>  <span class="fu">f</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb51-3"><a href="m6a-wrangling-and-tidying-data.html#cb51-3" tabindex="-1"></a>  <span class="fu">g</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb51-4"><a href="m6a-wrangling-and-tidying-data.html#cb51-4" tabindex="-1"></a>  <span class="fu">h</span>()</span></code></pre></div>
<p>You would read this sequence as:</p>
<ol style="list-style-type: decimal">
<li>Take <code>x</code> <em>then</em></li>
<li>Use this output as the input to the next function <code>f()</code> <em>then</em></li>
<li>Use this output as the input to the next function <code>g()</code> <em>then</em></li>
<li>Use this output as the input to the next function <code>h()</code></li>
</ol>
<p>While both approaches (nested parentheses and pipes) achieve the same goal, the latter is much more human-readable because you can clearly read the sequence of operations line-by-line. But what are the hypothetical <code>x</code>, <code>f()</code>, <code>g()</code>, and <code>h()</code>? Throughout this walkthrough on data wrangling:</p>
<ol style="list-style-type: decimal">
<li>The starting value <code>x</code> will be a data frame. For example, the <code>flights</code> data frame we explored in Section <a href="getting-started.html#nycflights13">6.5</a>.</li>
<li>The sequence of functions, here <code>f()</code>, <code>g()</code>, and <code>h()</code>, will mostly be a sequence of any number of the data wrangling verb-named functions we listed in the introduction to this walkthrough</li>
<li>The result will be the transformed/modified data frame that you want.</li>
</ol>
</div>
<div id="filter" class="section level3 hasAnchor" number="18.2.2">
<h3><span class="header-section-number">18.2.2</span> <code>filter</code> rows<a href="m6a-wrangling-and-tidying-data.html#filter" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:filter"></span>
<img src="images/cheatsheets/filter.png" alt="Diagram of filter() rows operation." width="\textwidth" />
<p class="caption">
Figure 18.1: Diagram of filter() rows operation.
</p>
</div>
<p>The <code>filter()</code> function here works much like the “Filter” option in Microsoft Excel; it allows you to specify criteria about the values of a variable in your dataset and then filter out only the rows that match that criteria.</p>
<p>Let’s see what I mean by taking the <code>flights</code> dataset that we’ve used in the past and turning it into a slimmer dataset that includes only flights from New York City to Portland, Oregon. The <code>dest</code> destination code (or airport code) for Portland, Oregon is <code>"PDX"</code>. Run the following and look at the results in RStudio’s spreadsheet viewer to ensure that only flights heading to Portland are chosen here:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="m6a-wrangling-and-tidying-data.html#cb52-1" tabindex="-1"></a>portland_flights <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="m6a-wrangling-and-tidying-data.html#cb52-2" tabindex="-1"></a>  <span class="fu">filter</span>(dest <span class="sc">==</span> <span class="st">&quot;PDX&quot;</span>)</span>
<span id="cb52-3"><a href="m6a-wrangling-and-tidying-data.html#cb52-3" tabindex="-1"></a><span class="fu">View</span>(portland_flights)</span></code></pre></div>
<p>Note the order of the code. First, take the <code>flights</code> data frame <code>flights</code> <em>then</em> <code>filter()</code> the data frame so that only those where the <code>dest</code> equals <code>"PDX"</code> are included. We test for equality using the double equal sign <code>==</code> and not a single equal sign <code>=</code>. Trying to run <code>filter(dest = "PDX")</code> will yield an error. This is a convention across many programming languages, but if you are new to coding, you’ll probably forget to use the double equal sign <code>==</code> a few times before you get the hang of it. (To be honest, it’s taken me more than a few times to get into this habit!)</p>
<p>You can use other operators beyond just the <code>==</code> operator that tests for equality:</p>
<ul>
<li><code>&gt;</code> corresponds to “greater than”</li>
<li><code>&lt;</code> corresponds to “less than”</li>
<li><code>&gt;=</code> corresponds to “greater than or equal to”</li>
<li><code>&lt;=</code> corresponds to “less than or equal to”</li>
<li><code>!=</code> corresponds to “not equal to.” The <code>!</code> is used in many programming languages to indicate “not”</li>
</ul>
<p>Furthermore, you can combine multiple criteria using operators that make comparisons:</p>
<ul>
<li><code>|</code> corresponds to “or”</li>
<li><code>&amp;</code> corresponds to “and”</li>
</ul>
<p>To see many of these in action, let’s filter <code>flights</code> for all rows that departed from JFK <em>and</em> were heading to Burlington, Vermont (<code>"BTV"</code>) or Seattle, Washington (<code>"SEA"</code>) <em>and</em> departed in the months of October, November, or December. Run the following:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="m6a-wrangling-and-tidying-data.html#cb53-1" tabindex="-1"></a>btv_sea_flights_fall <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb53-2"><a href="m6a-wrangling-and-tidying-data.html#cb53-2" tabindex="-1"></a>  <span class="fu">filter</span>(origin <span class="sc">==</span> <span class="st">&quot;JFK&quot;</span> <span class="sc">&amp;</span> (dest <span class="sc">==</span> <span class="st">&quot;BTV&quot;</span> <span class="sc">|</span> dest <span class="sc">==</span> <span class="st">&quot;SEA&quot;</span>) <span class="sc">&amp;</span> month <span class="sc">&gt;=</span> <span class="dv">10</span>)</span>
<span id="cb53-3"><a href="m6a-wrangling-and-tidying-data.html#cb53-3" tabindex="-1"></a><span class="fu">View</span>(btv_sea_flights_fall)</span></code></pre></div>
<p>Note that even though we might say “all flights leaving Burlington, Vermont <em>and</em> Seattle, Washington” to another human, for a computer to understand, we have to specify that we really mean “all flights leaving Burlington, Vermont <em>or</em> leaving Seattle, Washington.” For a given row in the data, <code>dest</code> can be <code>"BTV"</code>, or <code>"SEA"</code>, or something else, but not both <code>"BTV"</code> and <code>"SEA"</code> at the same time. Furthermore, note the careful use of parentheses around <code>dest == "BTV" | dest == "SEA"</code>.</p>
<p>We can often skip the use of <code>&amp;</code> and just separate our conditions with a comma. The previous code will return the identical output <code>btv_sea_flights_fall</code> as the following code:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="m6a-wrangling-and-tidying-data.html#cb54-1" tabindex="-1"></a>btv_sea_flights_fall <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb54-2"><a href="m6a-wrangling-and-tidying-data.html#cb54-2" tabindex="-1"></a>  <span class="fu">filter</span>(origin <span class="sc">==</span> <span class="st">&quot;JFK&quot;</span>, (dest <span class="sc">==</span> <span class="st">&quot;BTV&quot;</span> <span class="sc">|</span> dest <span class="sc">==</span> <span class="st">&quot;SEA&quot;</span>), month <span class="sc">&gt;=</span> <span class="dv">10</span>)</span>
<span id="cb54-3"><a href="m6a-wrangling-and-tidying-data.html#cb54-3" tabindex="-1"></a><span class="fu">View</span>(btv_sea_flights_fall)</span></code></pre></div>
<p>Let’s present another example that uses the <code>!</code> “not” operator to pick rows that <em>don’t</em> match a criteria. As mentioned earlier, the <code>!</code> can be read as “not.” Here we are filtering rows corresponding to flights that didn’t go to Burlington, VT or Seattle, WA.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="m6a-wrangling-and-tidying-data.html#cb55-1" tabindex="-1"></a>not_BTV_SEA <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb55-2"><a href="m6a-wrangling-and-tidying-data.html#cb55-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(dest <span class="sc">==</span> <span class="st">&quot;BTV&quot;</span> <span class="sc">|</span> dest <span class="sc">==</span> <span class="st">&quot;SEA&quot;</span>))</span>
<span id="cb55-3"><a href="m6a-wrangling-and-tidying-data.html#cb55-3" tabindex="-1"></a><span class="fu">View</span>(not_BTV_SEA)</span></code></pre></div>
<p>Again, note the careful use of parentheses around the <code>(dest == "BTV" | dest == "SEA")</code>. If we didn’t use parentheses, like with the following code:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="m6a-wrangling-and-tidying-data.html#cb56-1" tabindex="-1"></a>flights <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span>dest <span class="sc">==</span> <span class="st">&quot;BTV&quot;</span> <span class="sc">|</span> dest <span class="sc">==</span> <span class="st">&quot;SEA&quot;</span>)</span></code></pre></div>
<p>We would be returning all flights not headed to <code>"BTV"</code> <em>or</em> those headed to <code>"SEA"</code>, which is an entirely different resulting data frame.</p>
<p>Now say we have a larger number of airports we want to filter for, say <code>"SEA"</code>, <code>"SFO"</code>, <code>"PDX"</code>, <code>"BTV"</code>, and <code>"BDL"</code>. We could continue to use the <code>|</code> (<em>or</em>) operator:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="m6a-wrangling-and-tidying-data.html#cb57-1" tabindex="-1"></a>many_airports <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb57-2"><a href="m6a-wrangling-and-tidying-data.html#cb57-2" tabindex="-1"></a>  <span class="fu">filter</span>(dest <span class="sc">==</span> <span class="st">&quot;SEA&quot;</span> <span class="sc">|</span> dest <span class="sc">==</span> <span class="st">&quot;SFO&quot;</span> <span class="sc">|</span> dest <span class="sc">==</span> <span class="st">&quot;PDX&quot;</span> <span class="sc">|</span> </span>
<span id="cb57-3"><a href="m6a-wrangling-and-tidying-data.html#cb57-3" tabindex="-1"></a>         dest <span class="sc">==</span> <span class="st">&quot;BTV&quot;</span> <span class="sc">|</span> dest <span class="sc">==</span> <span class="st">&quot;BDL&quot;</span>)</span></code></pre></div>
<p>but as we progressively include more airports, this will get unwieldy to write. A slightly shorter approach uses the <code>%in%</code> operator along with the <code>c()</code> function. Recall from Subsection <a href="getting-started.html#programming-concepts">6.3.1</a> that the <code>c()</code> function “combines” or “concatenates” values into a single <em>vector</em> of values. </p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="m6a-wrangling-and-tidying-data.html#cb58-1" tabindex="-1"></a>many_airports <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb58-2"><a href="m6a-wrangling-and-tidying-data.html#cb58-2" tabindex="-1"></a>  <span class="fu">filter</span>(dest <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;SEA&quot;</span>, <span class="st">&quot;SFO&quot;</span>, <span class="st">&quot;PDX&quot;</span>, <span class="st">&quot;BTV&quot;</span>, <span class="st">&quot;BDL&quot;</span>))</span>
<span id="cb58-3"><a href="m6a-wrangling-and-tidying-data.html#cb58-3" tabindex="-1"></a><span class="fu">View</span>(many_airports)</span></code></pre></div>
<p>What this code is doing is filtering <code>flights</code> for all flights where <code>dest</code> is in the vector of airports <code>c("BTV", "SEA", "PDX", "SFO", "BDL")</code>. Both outputs of <code>many_airports</code> are the same, but as you can see the latter takes much less energy to code. The <code>%in%</code> operator is useful for looking for matches commonly in one vector/variable compared to another.</p>
<p>As a final note, we recommend that <code>filter()</code> should often be among the first verbs you consider applying to your data. This cleans your dataset to only those rows you care about, or put differently, it narrows down the scope of your data frame to just the observations you care about.</p>
</div>
<div id="mutate" class="section level3 hasAnchor" number="18.2.3">
<h3><span class="header-section-number">18.2.3</span> <code>mutate</code> existing variables<a href="m6a-wrangling-and-tidying-data.html#mutate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:select"></span>
<img src="images/cheatsheets/mutate.png" alt="Diagram of mutate() columns." width="80%" height="80%" />
<p class="caption">
Figure 18.2: Diagram of mutate() columns.
</p>
</div>
<p>Another common transformation of data is to create/compute new variables based on existing ones. For example, say you are more comfortable thinking of temperature in degrees Celsius (°C) instead of degrees Fahrenheit (°F). The formula to convert temperatures from °F to °C is</p>
<p><span class="math display">\[
\text{temp in C} = \frac{\text{temp in F} - 32}{1.8}
\]</span></p>
<p>We can apply this formula to the <code>temp</code> variable using the <code>mutate()</code> function from the <code>dplyr</code> package, which takes existing variables and mutates them to create new ones.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="m6a-wrangling-and-tidying-data.html#cb59-1" tabindex="-1"></a>weather <span class="ot">&lt;-</span> weather <span class="sc">%&gt;%</span> </span>
<span id="cb59-2"><a href="m6a-wrangling-and-tidying-data.html#cb59-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">temp_in_C =</span> (temp <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">/</span> <span class="fl">1.8</span>)</span></code></pre></div>
<p>In this code, we <code>mutate()</code> the <code>weather</code> data frame by creating a new variable <code>temp_in_C = (temp - 32) / 1.8</code> and then <em>overwrite</em> the original <code>weather</code> data frame. Why did we overwrite the data frame <code>weather</code>, instead of assigning the result to a new data frame like <code>weather_new</code>? As a rough rule of thumb, as long as you are not losing original information that you might need later, it’s acceptable practice to overwrite existing data frames with updated ones, as we did here. On the other hand, why did we not overwrite the variable <code>temp</code>, but instead created a new variable called <code>temp_in_C</code>? Because if we did this, we would have erased the original information contained in <code>temp</code> of temperatures in Fahrenheit that may still be valuable to us.</p>
<p>Let’s consider another example. Passengers are often frustrated when their flight departs late, but aren’t as annoyed if, in the end, pilots can make up some time during the flight. This is known in the airline industry as <em>gain</em>, and we will create this variable using the <code>mutate()</code> function:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="m6a-wrangling-and-tidying-data.html#cb60-1" tabindex="-1"></a>flights <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb60-2"><a href="m6a-wrangling-and-tidying-data.html#cb60-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gain =</span> dep_delay <span class="sc">-</span> arr_delay)</span></code></pre></div>
<p>Let’s take a look at only the <code>dep_delay</code>, <code>arr_delay</code>, and the resulting <code>gain</code> variables for the first 5 rows in our updated <code>flights</code> data frame in Table <a href="m6a-wrangling-and-tidying-data.html#tab:first-five-flights">18.1</a>.</p>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:first-five-flights">Table 18.1: </span>First five rows of departure/arrival delay and gain variables
</caption>
<thead>
<tr>
<th style="text-align:right;">
dep_delay
</th>
<th style="text-align:right;">
arr_delay
</th>
<th style="text-align:right;">
gain
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
-9
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
-16
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
-31
</td>
</tr>
<tr>
<td style="text-align:right;">
-1
</td>
<td style="text-align:right;">
-18
</td>
<td style="text-align:right;">
17
</td>
</tr>
<tr>
<td style="text-align:right;">
-6
</td>
<td style="text-align:right;">
-25
</td>
<td style="text-align:right;">
19
</td>
</tr>
</tbody>
</table>
<p>The flight in the first row departed 2 minutes late but arrived 11 minutes late, so its “gained time in the air” is a loss of 9 minutes, hence its <code>gain</code> is 2 - 11 = -9. On the other hand, the flight in the fourth row departed a minute early (<code>dep_delay</code> of -1) but arrived 18 minutes early (<code>arr_delay</code> of -18), so its “gained time in the air” is <span class="math inline">\(-1 - (-18) = -1 + 18 = 17\)</span> minutes, hence its <code>gain</code> is +17.</p>
<p>To close out our discussion on the <code>mutate()</code> function to create new variables, note that we can create multiple new variables at once in the same <code>mutate()</code> code. Furthermore, within the same <code>mutate()</code> code we can refer to new variables we just created. As an example, consider the <code>mutate()</code> code Wickham and Grolemund (2017) show in <a href="https://r4ds.had.co.nz/transform.html">Chapter 5</a> of <em>R for Data Science</em>:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="m6a-wrangling-and-tidying-data.html#cb61-1" tabindex="-1"></a>flights <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb61-2"><a href="m6a-wrangling-and-tidying-data.html#cb61-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb61-3"><a href="m6a-wrangling-and-tidying-data.html#cb61-3" tabindex="-1"></a>    <span class="at">gain =</span> dep_delay <span class="sc">-</span> arr_delay,</span>
<span id="cb61-4"><a href="m6a-wrangling-and-tidying-data.html#cb61-4" tabindex="-1"></a>    <span class="at">hours =</span> air_time <span class="sc">/</span> <span class="dv">60</span>,</span>
<span id="cb61-5"><a href="m6a-wrangling-and-tidying-data.html#cb61-5" tabindex="-1"></a>    <span class="at">gain_per_hour =</span> gain <span class="sc">/</span> hours</span>
<span id="cb61-6"><a href="m6a-wrangling-and-tidying-data.html#cb61-6" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="arrange" class="section level3 hasAnchor" number="18.2.4">
<h3><span class="header-section-number">18.2.4</span> <code>arrange</code> and sort rows<a href="m6a-wrangling-and-tidying-data.html#arrange" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One of the most commonly performed data wrangling tasks is to sort a data frame’s rows in the alphanumeric order of one of the variables. The <code>dplyr</code> package’s <code>arrange()</code> function allows us to sort/reorder a data frame’s rows according to the values of the specified variable.</p>
<p>Suppose we are interested in determining the most frequent destination airports for all domestic flights departing from New York City in 2013:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="m6a-wrangling-and-tidying-data.html#cb62-1" tabindex="-1"></a>freq_dest <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb62-2"><a href="m6a-wrangling-and-tidying-data.html#cb62-2" tabindex="-1"></a>  <span class="fu">group_by</span>(dest) <span class="sc">%&gt;%</span> </span>
<span id="cb62-3"><a href="m6a-wrangling-and-tidying-data.html#cb62-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">num_flights =</span> <span class="fu">n</span>())</span>
<span id="cb62-4"><a href="m6a-wrangling-and-tidying-data.html#cb62-4" tabindex="-1"></a>freq_dest</span></code></pre></div>
<pre><code># A tibble: 105 × 2
   dest  num_flights
   &lt;chr&gt;       &lt;int&gt;
 1 ABQ           254
 2 ACK           265
 3 ALB           439
 4 ANC             8
 5 ATL         17215
 6 AUS          2439
 7 AVL           275
 8 BDL           443
 9 BGR           375
10 BHM           297
# ℹ 95 more rows</code></pre>
<p>Observe that by default the rows of the resulting <code>freq_dest</code> data frame are sorted in alphabetical order of <code>dest</code>ination. Say instead we would like to see the same data, but sorted from the most to the least number of flights (<code>num_flights</code>) instead:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="m6a-wrangling-and-tidying-data.html#cb64-1" tabindex="-1"></a>freq_dest <span class="sc">%&gt;%</span> </span>
<span id="cb64-2"><a href="m6a-wrangling-and-tidying-data.html#cb64-2" tabindex="-1"></a>  <span class="fu">arrange</span>(num_flights)</span></code></pre></div>
<pre><code># A tibble: 105 × 2
   dest  num_flights
   &lt;chr&gt;       &lt;int&gt;
 1 LEX             1
 2 LGA             1
 3 ANC             8
 4 SBN            10
 5 HDN            15
 6 MTJ            15
 7 EYW            17
 8 PSP            19
 9 JAC            25
10 BZN            36
# ℹ 95 more rows</code></pre>
<p>This is, however, the opposite of what we want. The rows are sorted with the least frequent destination airports displayed first. This is because <code>arrange()</code> always returns rows sorted in ascending order by default. To switch the ordering to be in “descending” order instead, we use the <code>desc()</code> function as so:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="m6a-wrangling-and-tidying-data.html#cb66-1" tabindex="-1"></a>freq_dest <span class="sc">%&gt;%</span> </span>
<span id="cb66-2"><a href="m6a-wrangling-and-tidying-data.html#cb66-2" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(num_flights))</span></code></pre></div>
<pre><code># A tibble: 105 × 2
   dest  num_flights
   &lt;chr&gt;       &lt;int&gt;
 1 ORD         17283
 2 ATL         17215
 3 LAX         16174
 4 BOS         15508
 5 MCO         14082
 6 CLT         14064
 7 SFO         13331
 8 FLL         12055
 9 MIA         11728
10 DCA          9705
# ℹ 95 more rows</code></pre>
</div>
<div id="select" class="section level3 hasAnchor" number="18.2.5">
<h3><span class="header-section-number">18.2.5</span> <code>select</code> variables<a href="m6a-wrangling-and-tidying-data.html#select" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:selectfig"></span>
<img src="images/cheatsheets/select.png" alt="Diagram of select() columns." width="\textwidth" />
<p class="caption">
Figure 18.3: Diagram of select() columns.
</p>
</div>
<p>We’ve seen that the <code>flights</code> data frame in the <code>nycflights13</code> package contains 19 different variables. You can identify the names of these 19 variables by running the <code>glimpse()</code> function from the <code>dplyr</code> package:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="m6a-wrangling-and-tidying-data.html#cb68-1" tabindex="-1"></a><span class="fu">glimpse</span>(flights)</span></code></pre></div>
<p>However, say you only need two of these 19 variables, say <code>carrier</code> and <code>flight</code>. You can <code>select()</code> these two variables:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="m6a-wrangling-and-tidying-data.html#cb69-1" tabindex="-1"></a>flights <span class="sc">%&gt;%</span> </span>
<span id="cb69-2"><a href="m6a-wrangling-and-tidying-data.html#cb69-2" tabindex="-1"></a>  <span class="fu">select</span>(carrier, flight)</span></code></pre></div>
<p>This function makes it easier to explore large datasets since it allows us to limit the scope to only those variables we care most about. For example, if we <code>select()</code> only a smaller number of variables as is shown in Figure <a href="m6a-wrangling-and-tidying-data.html#fig:selectfig">18.3</a>, it will make viewing the dataset in RStudio’s spreadsheet viewer more digestible.</p>
<p>Let’s say instead you want to drop, or de-select, certain variables. For example, consider the variable <code>year</code> in the <code>flights</code> data frame. This variable isn’t quite a “variable” because it is always <code>2013</code> and hence doesn’t change. Say you want to remove this variable from the data frame. We can deselect <code>year</code> by using the <code>-</code> sign:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="m6a-wrangling-and-tidying-data.html#cb70-1" tabindex="-1"></a>flights_no_year <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>year)</span></code></pre></div>
<p>Another way of selecting columns/variables is by specifying a range of columns:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="m6a-wrangling-and-tidying-data.html#cb71-1" tabindex="-1"></a>flight_arr_times <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> <span class="fu">select</span>(month<span class="sc">:</span>day, arr_time<span class="sc">:</span>sched_arr_time)</span>
<span id="cb71-2"><a href="m6a-wrangling-and-tidying-data.html#cb71-2" tabindex="-1"></a>flight_arr_times</span></code></pre></div>
<p>This will <code>select()</code> all columns between <code>month</code> and <code>day</code>, as well as between <code>arr_time</code> and <code>sched_arr_time</code>, and drop the rest.</p>
<p>The <code>select()</code> function can also be used to reorder columns when used with the <code>everything()</code> helper function. For example, suppose we want the <code>hour</code>, <code>minute</code>, and <code>time_hour</code> variables to appear immediately after the <code>year</code>, <code>month</code>, and <code>day</code> variables, while not discarding the rest of the variables. In the following code, <code>everything()</code> will pick up all remaining variables:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="m6a-wrangling-and-tidying-data.html#cb72-1" tabindex="-1"></a>flights_reorder <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb72-2"><a href="m6a-wrangling-and-tidying-data.html#cb72-2" tabindex="-1"></a>  <span class="fu">select</span>(year, month, day, hour, minute, time_hour, <span class="fu">everything</span>())</span>
<span id="cb72-3"><a href="m6a-wrangling-and-tidying-data.html#cb72-3" tabindex="-1"></a><span class="fu">glimpse</span>(flights_reorder)</span></code></pre></div>
<p>Lastly, the helper functions <code>starts_with()</code>, <code>ends_with()</code>, and <code>contains()</code> can be used to select variables/columns that match those conditions. As examples,</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="m6a-wrangling-and-tidying-data.html#cb73-1" tabindex="-1"></a>flights <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">&quot;a&quot;</span>))</span>
<span id="cb73-2"><a href="m6a-wrangling-and-tidying-data.html#cb73-2" tabindex="-1"></a>flights <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">&quot;delay&quot;</span>))</span>
<span id="cb73-3"><a href="m6a-wrangling-and-tidying-data.html#cb73-3" tabindex="-1"></a>flights <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">&quot;time&quot;</span>))</span></code></pre></div>
</div>
<div id="rename" class="section level3 hasAnchor" number="18.2.6">
<h3><span class="header-section-number">18.2.6</span> <code>rename</code> variables<a href="m6a-wrangling-and-tidying-data.html#rename" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Another useful function is <code>rename()</code>, which as you may have guessed changes the name of variables. Suppose we want to only focus on <code>dep_time</code> and <code>arr_time</code> and change <code>dep_time</code> and <code>arr_time</code> to be <code>departure_time</code> and <code>arrival_time</code> instead in the <code>flights_time</code> data frame:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="m6a-wrangling-and-tidying-data.html#cb74-1" tabindex="-1"></a>flights_time_new <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb74-2"><a href="m6a-wrangling-and-tidying-data.html#cb74-2" tabindex="-1"></a>  <span class="fu">select</span>(dep_time, arr_time) <span class="sc">%&gt;%</span> </span>
<span id="cb74-3"><a href="m6a-wrangling-and-tidying-data.html#cb74-3" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">departure_time =</span> dep_time, <span class="at">arrival_time =</span> arr_time)</span>
<span id="cb74-4"><a href="m6a-wrangling-and-tidying-data.html#cb74-4" tabindex="-1"></a><span class="fu">glimpse</span>(flights_time_new)</span></code></pre></div>
<p>Note that in this case we used a single <code>=</code> sign within the <code>rename()</code>. For example, <code>departure_time = dep_time</code> renames the <code>dep_time</code> variable to have the new name <code>departure_time</code>. This is because we are not testing for equality like we would using <code>==</code>. Instead we want to assign a new variable <code>departure_time</code> to have the same values as <code>dep_time</code> and then delete the variable <code>dep_time</code>. Note that new <code>dplyr</code> users often forget that the new variable name comes before the equal sign. <!-- We usually remember this as "New Before, Old After" or NBOA. --></p>
</div>
<div id="top_n-values-of-a-variable" class="section level3 hasAnchor" number="18.2.7">
<h3><span class="header-section-number">18.2.7</span> <code>top_n</code> values of a variable<a href="m6a-wrangling-and-tidying-data.html#top_n-values-of-a-variable" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can also return the top <code>n</code> values of a variable using the <code>top_n()</code> function. For example, we can return a data frame of the top 10 destination airports using the example from Subsection <a href="#diff-key"><strong>??</strong></a>. Observe that we set the number of values to return to <code>n = 10</code> and <code>wt = num_flights</code> to indicate that we want the rows corresponding to the top 10 values of <code>num_flights</code>. See the help file for <code>top_n()</code> by running <code>?top_n</code> for more information.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="m6a-wrangling-and-tidying-data.html#cb75-1" tabindex="-1"></a>freq_dest <span class="sc">%&gt;%</span> <span class="fu">top_n</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">wt =</span> num_flights)</span></code></pre></div>
<p>Let’s further <code>arrange()</code> these results in descending order of <code>num_flights</code>:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="m6a-wrangling-and-tidying-data.html#cb76-1" tabindex="-1"></a>freq_dest  <span class="sc">%&gt;%</span> </span>
<span id="cb76-2"><a href="m6a-wrangling-and-tidying-data.html#cb76-2" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">wt =</span> num_flights) <span class="sc">%&gt;%</span> </span>
<span id="cb76-3"><a href="m6a-wrangling-and-tidying-data.html#cb76-3" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(num_flights))</span></code></pre></div>
</div>
</div>
<div id="tidying-data" class="section level2 hasAnchor" number="18.3">
<h2><span class="header-section-number">18.3</span> Tidying Data<a href="m6a-wrangling-and-tidying-data.html#tidying-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In Subsection <a href="getting-started.html#programming-concepts">6.3.1</a>, I introduced the concept of a data frame in R: a rectangular spreadsheet-like representation of data where the rows correspond to observations and the columns correspond to variables describing each observation. In Section <a href="getting-started.html#nycflights13">6.5</a>, we started exploring our first data frame: the <code>flights</code> data frame included in the <code>nycflights13</code> package.</p>
<p>In the first section of this walkthrough, we learned how to take existing data frames and transform/modify them to suit our ends. In this second section, we extend some of these ideas by discussing a type of data formatting called “tidy” data. You will see that having data stored in “tidy” format is about more than just what the everyday definition of the term “tidy” might suggest: having your data “neatly organized.” Instead, we define the term “tidy” as it’s used by data scientists who use R, outlining a set of rules by which data is saved.</p>
<p>Knowing about tidy data was not necessary earlier because all the data we used were already in “tidy” format. In this walkthrough, we’ll now see that this format is essential to using the tools we’ve covered. Furthermore, it will also be useful for future walkthroughs as we cover future ideas.</p>
<div id="tidy-packages" class="section level3 unnumbered hasAnchor">
<h3>Needed packages<a href="m6a-wrangling-and-tidying-data.html#tidy-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s load all the packages needed for this walkthrough (this assumes you’ve already installed them). If needed, read Section <a href="getting-started.html#packages">6.4</a> for information on how to install and load R packages.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="m6a-wrangling-and-tidying-data.html#cb77-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb77-2"><a href="m6a-wrangling-and-tidying-data.html#cb77-2" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb77-3"><a href="m6a-wrangling-and-tidying-data.html#cb77-3" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb77-4"><a href="m6a-wrangling-and-tidying-data.html#cb77-4" tabindex="-1"></a><span class="fu">library</span>(nycflights13)</span>
<span id="cb77-5"><a href="m6a-wrangling-and-tidying-data.html#cb77-5" tabindex="-1"></a><span class="fu">library</span>(fivethirtyeight)</span>
<span id="cb77-6"><a href="m6a-wrangling-and-tidying-data.html#cb77-6" tabindex="-1"></a><span class="fu">library</span>(here)</span></code></pre></div>
</div>
<div id="csv" class="section level3 hasAnchor" number="18.3.1">
<h3><span class="header-section-number">18.3.1</span> Importing data<a href="m6a-wrangling-and-tidying-data.html#csv" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Up to this point, most of our activities have used data stored inside of an R package, though we <em>have</em> practiced importing data from an outside source in Section <a href="m4a-find-a-dataset-relevant-to-you.html#loading-dataset">12.4</a>. It’s time to put that practice to use!</p>
<p>To practice tidying data, we need to load a <em>Comma Separated Values</em> <code>.csv</code> file, the same format that I encouraged you to find for your personal dataset. You can think of a <code>.csv</code> file as a bare-bones spreadsheet where:</p>
<ul>
<li>Each line in the file corresponds to one row of data/one observation.</li>
<li>Values for each line are separated with commas. In other words, the values of different variables are separated by commas in each row.</li>
<li>The first line is often, but not always, a <em>header</em> row indicating the names of the columns/variables.</li>
</ul>
<p>The <code>.csv</code> file we’re interested in here is <code>dem_score.csv</code>—it is found in the <code>activity_data</code> subfolder of your class project folder and contains ratings of the level of democracy in different countries spanning 1952 to 1992. Let’s use the <code>read_csv()</code> function from the <code>readr</code> package (with some help from the <code>@here</code> package) to read it from your computer, import it into R, and save it in a data frame called <code>dem_score</code>.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="m6a-wrangling-and-tidying-data.html#cb78-1" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb78-2"><a href="m6a-wrangling-and-tidying-data.html#cb78-2" tabindex="-1"></a>dem_score <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">&quot;activity_data&quot;</span>,<span class="st">&quot;dem_score.csv&quot;</span>))</span>
<span id="cb78-3"><a href="m6a-wrangling-and-tidying-data.html#cb78-3" tabindex="-1"></a>dem_score</span></code></pre></div>
<pre><code># A tibble: 96 × 10
   country    `1952` `1957` `1962` `1967` `1972` `1977` `1982` `1987` `1992`
   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1 Albania        -9     -9     -9     -9     -9     -9     -9     -9      5
 2 Argentina      -9     -1     -1     -9     -9     -9     -8      8      7
 3 Armenia        -9     -7     -7     -7     -7     -7     -7     -7      7
 4 Australia      10     10     10     10     10     10     10     10     10
 5 Austria        10     10     10     10     10     10     10     10     10
 6 Azerbaijan     -9     -7     -7     -7     -7     -7     -7     -7      1
 7 Belarus        -9     -7     -7     -7     -7     -7     -7     -7      7
 8 Belgium        10     10     10     10     10     10     10     10     10
 9 Bhutan        -10    -10    -10    -10    -10    -10    -10    -10    -10
10 Bolivia        -4     -3     -3     -4     -7     -7      8      9      9
# ℹ 86 more rows</code></pre>
<p>In this <code>dem_score</code> data frame, the minimum value of <code>-10</code> corresponds to a highly autocratic nation, whereas a value of <code>10</code> corresponds to a highly democratic nation. Note also that backticks surround the different variable names. Variable names in R by default are not allowed to start with a number nor include spaces, but we can get around this fact by surrounding the column name with backticks. We’ll revisit the <code>dem_score</code> data frame in a case study in the upcoming Section <a href="m6a-wrangling-and-tidying-data.html#case-study-tidy">18.3.5</a>.</p>
<p>Note that the <code>read_csv()</code> function included in the <code>readr</code> package is different than the <code>read.csv()</code> function that comes installed with R. While the difference in the names might seem trivial (an <code>_</code> instead of a <code>.</code>), the <code>read_csv()</code> function is, in our opinion, easier to use since it can more easily read data off the web and generally imports data at a much faster speed. Furthermore, the <code>read_csv()</code> function included in the <code>readr</code> saves data frames as <code>tibbles</code> by default.</p>
</div>
<div id="tidy-data-ex" class="section level3 hasAnchor" number="18.3.2">
<h3><span class="header-section-number">18.3.2</span> “Tidy” data<a href="m6a-wrangling-and-tidying-data.html#tidy-data-ex" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>With our data imported, let’s learn about the concept of “tidy” data format with a motivating example from the <code>fivethirtyeight</code> package. The <code>fivethirtyeight</code> package provides access to the datasets used in many articles published by the data journalism website, <a href="https://fivethirtyeight.com/">FiveThirtyEight.com</a>. For a complete list of all 129 datasets included in the <code>fivethirtyeight</code> package, check out the package webpage by going to: <a href="https://fivethirtyeight-r.netlify.app/articles/fivethirtyeight.html" class="uri">https://fivethirtyeight-r.netlify.app/articles/fivethirtyeight.html</a>.</p>
<p>Let’s focus our attention on the <code>drinks</code> data frame and look at its first 5 rows:</p>
<pre><code># A tibble: 5 × 5
  country     beer_servings spirit_servings wine_servings total_litres_of_pure…¹
  &lt;chr&gt;               &lt;int&gt;           &lt;int&gt;         &lt;int&gt;                  &lt;dbl&gt;
1 Afghanistan             0               0             0                    0  
2 Albania                89             132            54                    4.9
3 Algeria                25               0            14                    0.7
4 Andorra               245             138           312                   12.4
5 Angola                217              57            45                    5.9
# ℹ abbreviated name: ¹​total_litres_of_pure_alcohol</code></pre>
<p>After reading the help file by running <code>?drinks</code>, you’ll see that <code>drinks</code> is a data frame containing results from a survey of the average number of servings of beer, spirits, and wine consumed in 193 countries. This data was originally reported on FiveThirtyEight.com in Mona Chalabi’s article: <a href="https://fivethirtyeight.com/features/dear-mona-followup-where-do-people-drink-the-most-beer-wine-and-spirits/">“Dear Mona Followup: Where Do People Drink The Most Beer, Wine And Spirits?”</a>.</p>
<p>Let’s apply some of the data wrangling verbs we learned in Section <a href="m6a-wrangling-and-tidying-data.html#wrangling">18.2</a> on the <code>drinks</code> data frame:</p>
<ol style="list-style-type: decimal">
<li><code>filter()</code> the <code>drinks</code> data frame to only consider 4 countries: the United States, China, Italy, and Saudi Arabia, <em>then</em></li>
<li><code>select()</code> all columns except <code>total_litres_of_pure_alcohol</code> by using the <code>-</code> sign, <em>then</em></li>
<li><code>rename()</code> the variables <code>beer_servings</code>, <code>spirit_servings</code>, and <code>wine_servings</code> to <code>beer</code>, <code>spirit</code>, and <code>wine</code>, respectively.</li>
</ol>
<p>and save the resulting data frame in <code>drinks_smaller</code>:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="m6a-wrangling-and-tidying-data.html#cb81-1" tabindex="-1"></a>drinks_smaller <span class="ot">&lt;-</span> drinks <span class="sc">%&gt;%</span> </span>
<span id="cb81-2"><a href="m6a-wrangling-and-tidying-data.html#cb81-2" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;USA&quot;</span>, <span class="st">&quot;China&quot;</span>, <span class="st">&quot;Italy&quot;</span>, <span class="st">&quot;Saudi Arabia&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb81-3"><a href="m6a-wrangling-and-tidying-data.html#cb81-3" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>total_litres_of_pure_alcohol) <span class="sc">%&gt;%</span> </span>
<span id="cb81-4"><a href="m6a-wrangling-and-tidying-data.html#cb81-4" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">beer =</span> beer_servings, <span class="at">spirit =</span> spirit_servings, <span class="at">wine =</span> wine_servings)</span>
<span id="cb81-5"><a href="m6a-wrangling-and-tidying-data.html#cb81-5" tabindex="-1"></a>drinks_smaller</span></code></pre></div>
<pre><code># A tibble: 4 × 4
  country       beer spirit  wine
  &lt;chr&gt;        &lt;int&gt;  &lt;int&gt; &lt;int&gt;
1 China           79    192     8
2 Italy           85     42   237
3 Saudi Arabia     0      5     0
4 USA            249    158    84</code></pre>
<p>Let’s compare this way of organizing the data with an alternative:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="m6a-wrangling-and-tidying-data.html#cb83-1" tabindex="-1"></a>drinks_smaller_tidy <span class="ot">&lt;-</span> drinks_smaller <span class="sc">%&gt;%</span> </span>
<span id="cb83-2"><a href="m6a-wrangling-and-tidying-data.html#cb83-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;type&quot;</span>, </span>
<span id="cb83-3"><a href="m6a-wrangling-and-tidying-data.html#cb83-3" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;servings&quot;</span>, </span>
<span id="cb83-4"><a href="m6a-wrangling-and-tidying-data.html#cb83-4" tabindex="-1"></a>               <span class="at">cols =</span> <span class="sc">-</span>country)</span>
<span id="cb83-5"><a href="m6a-wrangling-and-tidying-data.html#cb83-5" tabindex="-1"></a>drinks_smaller_tidy</span></code></pre></div>
<pre><code># A tibble: 12 × 3
   country      type   servings
   &lt;chr&gt;        &lt;chr&gt;     &lt;int&gt;
 1 China        beer         79
 2 China        spirit      192
 3 China        wine          8
 4 Italy        beer         85
 5 Italy        spirit       42
 6 Italy        wine        237
 7 Saudi Arabia beer          0
 8 Saudi Arabia spirit        5
 9 Saudi Arabia wine          0
10 USA          beer        249
11 USA          spirit      158
12 USA          wine         84</code></pre>
<p>Observe that while <code>drinks_smaller</code> and <code>drinks_smaller_tidy</code> are both rectangular in shape and contain the same 12 numerical values (3 alcohol types by 4 countries), they are formatted differently. <code>drinks_smaller</code> is formatted in what’s known as <a href="https://en.wikipedia.org/wiki/Wide_and_narrow_data">“wide”</a> format, whereas <code>drinks_smaller_tidy</code> is formatted in what’s known as <a href="https://en.wikipedia.org/wiki/Wide_and_narrow_data#Narrow">“long/narrow”</a> format.</p>
<p>In the context of doing data science in R, long/narrow format is also known as “tidy” format. In order to use the packages that we prefer in this class, your input data frames <em>must</em> be in “tidy” format. Thus, all non-“tidy” data must be converted to “tidy” format first. Before we convert non-“tidy” data frames like <code>drinks_smaller</code> to “tidy” data frames like <code>drinks_smaller_tidy</code>, let’s define “tidy” data.</p>
</div>
<div id="tidy-definition" class="section level3 hasAnchor" number="18.3.3">
<h3><span class="header-section-number">18.3.3</span> Definition of “tidy” data<a href="m6a-wrangling-and-tidying-data.html#tidy-definition" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You have surely heard the word “tidy” in your life:</p>
<ul>
<li>“Tidy up your room!”</li>
<li>“Write your homework in a tidy way so it is easier to provide feedback.”</li>
<li>Marie Kondo’s best-selling book, <a href="https://www.powells.com/book/-9781607747307"><em>The Life-Changing Magic of Tidying Up: The Japanese Art of Decluttering and Organizing</em></a>, and Netflix TV series <a href="https://www.netflix.com/title/80209379"><em>Tidying Up with Marie Kondo</em></a>.</li>
<li>“I am not by any stretch of the imagination a tidy person, and the piles of unread books on the coffee table and by my bed have a plaintive, pleading quality to me - ‘Read me, please!’” - Linda Grant</li>
</ul>
<p>What does it mean for your data to be “tidy”? While “tidy” has a clear English meaning of “organized,” the word “tidy” in data science using R means that your data follows a standardized format. We will follow Hadley Wickham’s (2014) definition of <em>“tidy” data</em> shown also in Figure <a href="m6a-wrangling-and-tidying-data.html#fig:tidyfig">18.4</a>:</p>
<blockquote>
<p>A <em>dataset</em> is a collection of values, usually either numbers (if quantitative) or strings AKA text data (if qualitative/categorical). Values are organised in two ways. Every value belongs to a variable and an observation. A variable contains all values that measure the same underlying attribute (like height, temperature, duration) across units. An observation contains all values measured on the same unit (like a person, or a day, or a city) across attributes.</p>
<p>“Tidy” data is a standard way of mapping the meaning of a dataset to its structure. A dataset is messy or tidy depending on how rows, columns and tables are matched up with observations, variables and types. In <em>tidy data</em>:</p>
<ol style="list-style-type: decimal">
<li>Each variable forms a column.</li>
<li>Each observation forms a row.</li>
<li>Each type of observational unit forms a table.</li>
</ol>
</blockquote>

<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tidyfig"></span>
<img src="images/r4ds/tidy-1.png" alt="Tidy data graphic from R for Data Science." width="80%" height="80%" />
<p class="caption">
Figure 18.4: Tidy data graphic from <em>R for Data Science</em>.
</p>
</div>
<p>For example, say you have the following table of stock prices in Table <a href="m6a-wrangling-and-tidying-data.html#tab:non-tidy-stocks">18.2</a>:</p>
<table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:non-tidy-stocks">Table 18.2: </span>Stock prices (non-tidy format)
</caption>
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Boeing stock price
</th>
<th style="text-align:left;">
Amazon stock price
</th>
<th style="text-align:left;">
Google stock price
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2009-01-01
</td>
<td style="text-align:left;">
$173.55
</td>
<td style="text-align:left;">
$174.90
</td>
<td style="text-align:left;">
$174.34
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-02
</td>
<td style="text-align:left;">
$172.61
</td>
<td style="text-align:left;">
$171.42
</td>
<td style="text-align:left;">
$170.04
</td>
</tr>
</tbody>
</table>
<p>Although the data are neatly organized in a rectangular spreadsheet-type format, they do not follow the definition of data in “tidy” format. While there are three variables corresponding to three unique pieces of information (date, stock name, and stock price), there are not three columns. In “tidy” data format, each variable should be its own column, as shown in Table <a href="m6a-wrangling-and-tidying-data.html#tab:tidy-stocks">18.3</a>. Notice that both tables present the same information, but in different formats.</p>
<table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:tidy-stocks">Table 18.3: </span>Stock prices (tidy format)
</caption>
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Stock Name
</th>
<th style="text-align:left;">
Stock Price
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2009-01-01
</td>
<td style="text-align:left;">
Boeing
</td>
<td style="text-align:left;">
$173.55
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-01
</td>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:left;">
$174.90
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-01
</td>
<td style="text-align:left;">
Google
</td>
<td style="text-align:left;">
$174.34
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-02
</td>
<td style="text-align:left;">
Boeing
</td>
<td style="text-align:left;">
$172.61
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-02
</td>
<td style="text-align:left;">
Amazon
</td>
<td style="text-align:left;">
$171.42
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-02
</td>
<td style="text-align:left;">
Google
</td>
<td style="text-align:left;">
$170.04
</td>
</tr>
</tbody>
</table>
<p>Now we have the requisite three columns Date, Stock Name, and Stock Price. On the other hand, consider the data in Table <a href="m6a-wrangling-and-tidying-data.html#tab:tidy-stocks-2">18.4</a>.</p>
<table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:tidy-stocks-2">Table 18.4: </span>Example of tidy data
</caption>
<thead>
<tr>
<th style="text-align:left;">
Date
</th>
<th style="text-align:left;">
Boeing Price
</th>
<th style="text-align:left;">
Weather
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2009-01-01
</td>
<td style="text-align:left;">
$173.55
</td>
<td style="text-align:left;">
Sunny
</td>
</tr>
<tr>
<td style="text-align:left;">
2009-01-02
</td>
<td style="text-align:left;">
$172.61
</td>
<td style="text-align:left;">
Overcast
</td>
</tr>
</tbody>
</table>
<p>In this case, even though the variable “Boeing Price” occurs just like in our non-“tidy” data in Table <a href="m6a-wrangling-and-tidying-data.html#tab:non-tidy-stocks">18.2</a>, the data <em>is</em> “tidy” since there are three variables corresponding to three unique pieces of information: Date, Boeing price, and the Weather that particular day.</p>
</div>
<div id="converting-to-tidy-data" class="section level3 hasAnchor" number="18.3.4">
<h3><span class="header-section-number">18.3.4</span> Converting to “tidy” data<a href="m6a-wrangling-and-tidying-data.html#converting-to-tidy-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In our walkthroughs so far, you’ve only seen data frames that were already in “tidy” format. Furthermore, for the rest of this book, you’ll mostly only see data frames that are already in “tidy” format as well. However, this is not always the case with all datasets—including, perhaps, the dataset that you’ve chosen to work with for your class proejcts. If your original data frame is in wide (non-“tidy”) format and you would like to use the packages we learn about, you will first have to convert it to “tidy” format. To do so, we recommend using the <code>pivot_longer()</code> function in the <code>tidyr</code> package.</p>
<p>Going back to our <code>drinks_smaller</code> data frame from earlier:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="m6a-wrangling-and-tidying-data.html#cb85-1" tabindex="-1"></a>drinks_smaller</span></code></pre></div>
<pre><code># A tibble: 4 × 4
  country       beer spirit  wine
  &lt;chr&gt;        &lt;int&gt;  &lt;int&gt; &lt;int&gt;
1 China           79    192     8
2 Italy           85     42   237
3 Saudi Arabia     0      5     0
4 USA            249    158    84</code></pre>
<p>We convert it to “tidy” format by using the <code>pivot_longer()</code> function from the <code>tidyr</code> package as follows:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="m6a-wrangling-and-tidying-data.html#cb87-1" tabindex="-1"></a>drinks_smaller_tidy <span class="ot">&lt;-</span> drinks_smaller <span class="sc">%&gt;%</span> </span>
<span id="cb87-2"><a href="m6a-wrangling-and-tidying-data.html#cb87-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;type&quot;</span>, </span>
<span id="cb87-3"><a href="m6a-wrangling-and-tidying-data.html#cb87-3" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;servings&quot;</span>, </span>
<span id="cb87-4"><a href="m6a-wrangling-and-tidying-data.html#cb87-4" tabindex="-1"></a>               <span class="at">cols =</span> <span class="sc">-</span>country)</span>
<span id="cb87-5"><a href="m6a-wrangling-and-tidying-data.html#cb87-5" tabindex="-1"></a>drinks_smaller_tidy</span></code></pre></div>
<pre><code># A tibble: 12 × 3
   country      type   servings
   &lt;chr&gt;        &lt;chr&gt;     &lt;int&gt;
 1 China        beer         79
 2 China        spirit      192
 3 China        wine          8
 4 Italy        beer         85
 5 Italy        spirit       42
 6 Italy        wine        237
 7 Saudi Arabia beer          0
 8 Saudi Arabia spirit        5
 9 Saudi Arabia wine          0
10 USA          beer        249
11 USA          spirit      158
12 USA          wine         84</code></pre>
<p>We set the arguments to <code>pivot_longer()</code> as follows:</p>
<ol style="list-style-type: decimal">
<li><code>names_to</code> here corresponds to the name of the variable in the new “tidy”/long data frame that will contain the <em>column names</em> of the original data. Observe how we set <code>names_to = "type"</code>. In the resulting <code>drinks_smaller_tidy</code>, the column <code>type</code> contains the three types of alcohol <code>beer</code>, <code>spirit</code>, and <code>wine</code>. Since <code>type</code> is a variable name that doesn’t appear in <code>drinks_smaller</code>, we use quotation marks around it. You’ll receive an error if you just use <code>names_to = type</code> here.</li>
<li><code>values_to</code> here is the name of the variable in the new “tidy” data frame that will contain the <em>values</em> of the original data. Observe how we set <code>values_to = "servings"</code> since each of the numeric values in each of the <code>beer</code>, <code>wine</code>, and <code>spirit</code> columns of the <code>drinks_smaller</code> data corresponds to a value of <code>servings</code>. In the resulting <code>drinks_smaller_tidy</code>, the column <code>servings</code> contains the 4 <span class="math inline">\(\times\)</span> 3 = 12 numerical values. Note again that <code>servings</code> doesn’t appear as a variable in <code>drinks_smaller</code> so it again needs quotation marks around it for the <code>values_to</code> argument.</li>
<li>The third argument <code>cols</code> is the columns in the <code>drinks_smaller</code> data frame you either want to or don’t want to “tidy.” Observe how we set this to <code>-country</code> indicating that we don’t want to “tidy” the <code>country</code> variable in <code>drinks_smaller</code> and rather only <code>beer</code>, <code>spirit</code>, and <code>wine</code>. Since <code>country</code> is a column that appears in <code>drinks_smaller</code> we don’t put quotation marks around it.</li>
</ol>
<p>The third argument here of <code>cols</code> is a little nuanced, so let’s consider code that’s written slightly differently but that produces the same output:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="m6a-wrangling-and-tidying-data.html#cb89-1" tabindex="-1"></a>drinks_smaller <span class="sc">%&gt;%</span> </span>
<span id="cb89-2"><a href="m6a-wrangling-and-tidying-data.html#cb89-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;type&quot;</span>, </span>
<span id="cb89-3"><a href="m6a-wrangling-and-tidying-data.html#cb89-3" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;servings&quot;</span>, </span>
<span id="cb89-4"><a href="m6a-wrangling-and-tidying-data.html#cb89-4" tabindex="-1"></a>               <span class="at">cols =</span> <span class="fu">c</span>(beer, spirit, wine))</span></code></pre></div>
<p>Note that the third argument now specifies which columns we want to “tidy” with <code>c(beer, spirit, wine)</code>, instead of the columns we don’t want to “tidy” using <code>-country</code>. We use the <code>c()</code> function to create a vector of the columns in <code>drinks_smaller</code> that we’d like to “tidy.” Note that since these three columns appear one after another in the <code>drinks_smaller</code> data frame, we could also do the following for the <code>cols</code> argument:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="m6a-wrangling-and-tidying-data.html#cb90-1" tabindex="-1"></a>drinks_smaller <span class="sc">%&gt;%</span> </span>
<span id="cb90-2"><a href="m6a-wrangling-and-tidying-data.html#cb90-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;type&quot;</span>, </span>
<span id="cb90-3"><a href="m6a-wrangling-and-tidying-data.html#cb90-3" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;servings&quot;</span>, </span>
<span id="cb90-4"><a href="m6a-wrangling-and-tidying-data.html#cb90-4" tabindex="-1"></a>               <span class="at">cols =</span> beer<span class="sc">:</span>wine)</span></code></pre></div>
<p>Converting “wide” format data to “tidy” format often confuses new R users. The only way to learn to get comfortable with the <code>pivot_longer()</code> function is with practice, practice, and more practice using different datasets. For example, run <code>?pivot_longer</code> and look at the examples in the bottom of the help file. We’ll show another example of using <code>pivot_longer()</code> to convert a “wide” formatted data frame to “tidy” format in Section <a href="m6a-wrangling-and-tidying-data.html#case-study-tidy">18.3.5</a>.</p>
<div id="nycflights13-package-1" class="section level4 hasAnchor" number="18.3.4.1">
<h4><span class="header-section-number">18.3.4.1</span> <code>nycflights13</code> package<a href="m6a-wrangling-and-tidying-data.html#nycflights13-package-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Recall the <code>nycflights13</code> package with data about all domestic flights departing from New York City in 2013. Let’s revisit the <code>flights</code> data frame by running <code>View(flights)</code>. We saw that <code>flights</code> has a rectangular shape, with each of its 336,776 rows corresponding to a flight and each of its 22 columns corresponding to different characteristics/measurements of each flight. This satisfied the first two criteria of the definition of “tidy” data from Subsection <a href="m6a-wrangling-and-tidying-data.html#tidy-definition">18.3.3</a>: that “Each variable forms a column” and “Each observation forms a row.” But what about the third property of “tidy” data that “Each type of observational unit forms a table”?</p>
<p>Recall that we saw in Subsection <a href="getting-started.html#exploredataframes">6.5.3</a> that the observational unit for the <code>flights</code> data frame is an individual flight. In other words, the rows of the <code>flights</code> data frame refer to characteristics/measurements of individual flights. Also included in the <code>nycflights13</code> package are other data frames with their rows representing different observational units:</p>
<ul>
<li><code>airlines</code>: translation between two letter IATA carrier codes and airline company names (16 in total). The observational unit is an airline company.</li>
<li><code>planes</code>: aircraft information about each of 3,322 planes used, i.e., the observational unit is an aircraft.</li>
<li><code>weather</code>: hourly meteorological data (about 8,705 observations) for each of the three NYC airports, i.e., the observational unit is an hourly measurement of weather at one of the three airports.</li>
<li><code>airports</code>: airport names and locations. The observational unit is an airport.</li>
</ul>
<p>The organization of the information into these five data frames follows the third “tidy” data property: observations corresponding to the same observational unit should be saved in the same table, i.e., data frame. You could think of this property as the old English expression: “birds of a feather flock together.”</p>
</div>
</div>
<div id="case-study-tidy" class="section level3 hasAnchor" number="18.3.5">
<h3><span class="header-section-number">18.3.5</span> Case study: Democracy in Guatemala<a href="m6a-wrangling-and-tidying-data.html#case-study-tidy" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this section, we’ll show you another example of how to convert a data frame that isn’t in “tidy” format (“wide” format) to a data frame that is in “tidy” format (“long/narrow” format). We’ll do this using the <code>pivot_longer()</code> function from the <code>tidyr</code> package again.</p>
<p>Let’s use the <code>dem_score</code> data frame we imported in Section <a href="m6a-wrangling-and-tidying-data.html#csv">18.3.1</a>, but focus on only data corresponding to Guatemala.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="m6a-wrangling-and-tidying-data.html#cb91-1" tabindex="-1"></a>guat_dem <span class="ot">&lt;-</span> dem_score <span class="sc">%&gt;%</span> </span>
<span id="cb91-2"><a href="m6a-wrangling-and-tidying-data.html#cb91-2" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">&quot;Guatemala&quot;</span>)</span>
<span id="cb91-3"><a href="m6a-wrangling-and-tidying-data.html#cb91-3" tabindex="-1"></a>guat_dem</span></code></pre></div>
<pre><code># A tibble: 1 × 10
  country   `1952` `1957` `1962` `1967` `1972` `1977` `1982` `1987` `1992`
  &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 Guatemala      2     -6     -5      3      1     -3     -7      3      3</code></pre>
<p>Let’s lay out the grammar of graphics we saw in Section <a href="viz.html#grammarofgraphics">21.2</a>.</p>
<p>Now we are stuck in a predicament, much like with our <code>drinks_smaller</code> example in Section <a href="m6a-wrangling-and-tidying-data.html#tidy-data-ex">18.3.2</a>. We see that we have a variable named <code>country</code>, but its only value is <code>"Guatemala"</code>. We have other variables denoted by different year values. Unfortunately, the <code>guat_dem</code> data frame is not “tidy.”</p>
<p>We need to take the values of the columns corresponding to years in <code>guat_dem</code> and convert them into a new “names” variable called <code>year</code>. Furthermore, we need to take the democracy score values in the inside of the data frame and turn them into a new “values” variable called <code>democracy_score</code>. Our resulting data frame will have three columns: <code>country</code>, <code>year</code>, and <code>democracy_score</code>. Recall that the <code>pivot_longer()</code> function in the <code>tidyr</code> package does this for us:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="m6a-wrangling-and-tidying-data.html#cb93-1" tabindex="-1"></a>guat_dem_tidy <span class="ot">&lt;-</span> guat_dem <span class="sc">%&gt;%</span> </span>
<span id="cb93-2"><a href="m6a-wrangling-and-tidying-data.html#cb93-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">&quot;year&quot;</span>, </span>
<span id="cb93-3"><a href="m6a-wrangling-and-tidying-data.html#cb93-3" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;democracy_score&quot;</span>, </span>
<span id="cb93-4"><a href="m6a-wrangling-and-tidying-data.html#cb93-4" tabindex="-1"></a>               <span class="at">cols =</span> <span class="sc">-</span>country,</span>
<span id="cb93-5"><a href="m6a-wrangling-and-tidying-data.html#cb93-5" tabindex="-1"></a>               <span class="at">names_transform =</span> <span class="fu">list</span>(<span class="at">year =</span> as.integer)) </span>
<span id="cb93-6"><a href="m6a-wrangling-and-tidying-data.html#cb93-6" tabindex="-1"></a>guat_dem_tidy</span></code></pre></div>
<pre><code># A tibble: 9 × 3
  country    year democracy_score
  &lt;chr&gt;     &lt;int&gt;           &lt;dbl&gt;
1 Guatemala  1952               2
2 Guatemala  1957              -6
3 Guatemala  1962              -5
4 Guatemala  1967               3
5 Guatemala  1972               1
6 Guatemala  1977              -3
7 Guatemala  1982              -7
8 Guatemala  1987               3
9 Guatemala  1992               3</code></pre>
<p>We set the arguments to <code>pivot_longer()</code> as follows:</p>
<ol style="list-style-type: decimal">
<li><code>names_to</code> is the name of the variable in the new “tidy” data frame that will contain the <em>column names</em> of the original data. Observe how we set <code>names_to = "year"</code>. In the resulting <code>guat_dem_tidy</code>, the column <code>year</code> contains the years where Guatemala’s democracy scores were measured.</li>
<li><code>values_to</code> is the name of the variable in the new “tidy” data frame that will contain the <em>values</em> of the original data. Observe how we set <code>values_to = "democracy_score"</code>. In the resulting <code>guat_dem_tidy</code> the column <code>democracy_score</code> contains the 1 <span class="math inline">\(\times\)</span> 9 = 9 democracy scores as numeric values.</li>
<li>The third argument is the columns you either want to or don’t want to “tidy.” Observe how we set this to <code>cols = -country</code> indicating that we don’t want to “tidy” the <code>country</code> variable in <code>guat_dem</code> and rather only variables <code>1952</code> through <code>1992</code>.</li>
<li>The last argument of <code>names_transform</code> tells R what type of variable <code>year</code> should be set to. Without specifying that it is an <code>integer</code> as we’ve done here, <code>pivot_longer()</code> will set it to be a character value by default.</li>
</ol>
</div>
</div>
<div id="tidyverse-package" class="section level2 hasAnchor" number="18.4">
<h2><span class="header-section-number">18.4</span> <code>tidyverse</code> package<a href="m6a-wrangling-and-tidying-data.html#tidyverse-package" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>At the beginning of our tidying walkthrough, we loaded the following three packages (as well as <code>here</code>), which are among the most frequently used R packages for data science:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="m6a-wrangling-and-tidying-data.html#cb95-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb95-2"><a href="m6a-wrangling-and-tidying-data.html#cb95-2" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb95-3"><a href="m6a-wrangling-and-tidying-data.html#cb95-3" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div>
<p>Recall that <code>dplyr</code> is for data wrangling, <code>readr</code> is for importing spreadsheet data into R, and <code>tidyr</code> is for converting data to “tidy” format. There is a much quicker way to load these packages than by individually loading them: by installing and loading the <code>tidyverse</code> package. The <code>tidyverse</code> package acts as an “umbrella” package whereby installing/loading it will install/load multiple packages at once for you.</p>
<p>After installing the <code>tidyverse</code> package as you would a normal package (as seen in Section <a href="getting-started.html#packages">6.4</a>), running:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="m6a-wrangling-and-tidying-data.html#cb96-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>would be the same as running:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="m6a-wrangling-and-tidying-data.html#cb97-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb97-2"><a href="m6a-wrangling-and-tidying-data.html#cb97-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb97-3"><a href="m6a-wrangling-and-tidying-data.html#cb97-3" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb97-4"><a href="m6a-wrangling-and-tidying-data.html#cb97-4" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb97-5"><a href="m6a-wrangling-and-tidying-data.html#cb97-5" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb97-6"><a href="m6a-wrangling-and-tidying-data.html#cb97-6" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb97-7"><a href="m6a-wrangling-and-tidying-data.html#cb97-7" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb97-8"><a href="m6a-wrangling-and-tidying-data.html#cb97-8" tabindex="-1"></a><span class="fu">library</span>(forcats)</span></code></pre></div>
<p>We’ll cover <code>ggplot2</code> in a future walkthrough, and the <code>purrr</code>, <code>tibble</code>, <code>stringr</code>, and <code>forcats</code> are left for a more advanced book; check out <a href="http://r4ds.had.co.nz/"><em>R for Data Science</em></a> to learn about these packages.</p>
<p>For the remainder of this book, we’ll start every walkthrough by running <code>library(tidyverse)</code>, instead of loading the various component packages individually. The <code>tidyverse</code> “umbrella” package gets its name from the fact that all the functions in all its packages are designed to have common inputs and outputs: data frames are in “tidy” format. This standardization of input and output data frames makes transitions between different functions in the different packages as seamless as possible. For more information, check out the <a href="https://www.tidyverse.org/">tidyverse.org</a> webpage for the package.</p>
</div>
<div id="references-8" class="section level2 hasAnchor" number="18.5">
<h2><span class="header-section-number">18.5</span> References<a href="m6a-wrangling-and-tidying-data.html#references-8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Grolemund, G., &amp; Wickham, H. (2017). <em>R for Data Science</em> (1st edition). O’Reilly Media. <a href="https://r4ds.had.co.nz/" class="uri">https://r4ds.had.co.nz/</a>.</p>
<p>Wickham, H. (2014). Tidy data. <em>Journal of Statistical Software</em>, <em>59</em>(10). <a href="https://www.jstatsoft.org/index.php/jss/article/view/v059i10/v59i10.pdf" class="uri">https://www.jstatsoft.org/index.php/jss/article/view/v059i10/v59i10.pdf</a>.</p>

</div>
</div>
<script src="https://hypothes.is/embed.js" async></script>
            </section>

          </div>
        </div>
      </div>
<a href="m6u-unicorns-janitors-and-rock-stars.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="m6c-practice-wrangling-and-tidying-your-own-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
